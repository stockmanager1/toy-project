{"cells":[{"cell_type":"code","execution_count":null,"id":"3bc688df","metadata":{"id":"3bc688df"},"outputs":[],"source":["from google.colab import drive\n","drive.mount('/content/drive')\n","\n","\n","# numpy와 pandas 라이브러리(library)를 통해 STAGE2를 진행하겠습니다. + sklearn\n","\n","import numpy as np\n","import pandas as pd\n","%matplotlib inline\n","\n","# !unzip -qq \"경로로\"\n","!unzip -qq \"/content/drive/MyDrive/9565_hospital_data.zip\"\n","\n","\n","# pandas의 read_csv(): 엑셀의 '.csv'확장자 파일을 데이터프레임(dataframe)의 형태로 불러오는 함수입니다. \n","# read_excel, read_html 등 존재합니다.\n","\n","train = pd.read_csv('/content/train.csv')\n","test = pd.read_csv('/content/test.csv')"]},{"cell_type":"markdown","id":"c8a26ada","metadata":{"id":"c8a26ada"},"source":["# STAGE2 데이터 전처리\n","\n","## **데이터 전처리(preprocessing)** 의 필요성\n","\n","데이터를 분석 및 처리에 적합한 형태로 만드는 과정을 총칭합니다.\n","데이터 전처리는 데이터 분석 및 처리 과정에서 중요한 단계이고 데이터 분석, 데이터 마이닝, 머신 러닝 프로젝트에 적용 합니다.\n","그리고 일반적으로 데이터는 비어있는 부분이 있거나 정합성이 맞지 않는 경우가 많이 있습니다.\n","아무리 좋은 도구나 분석 기법도 품질이 낮은 데이터로는 좋은 결과를 얻기가 힘듭니다. (모두의 연구소, https://modulabs.co.kr/blog/data-preproccesing/, 인용)"]},{"cell_type":"markdown","id":"13cf606b","metadata":{"id":"13cf606b"},"source":["데이터 전처리는 분석을 위한 모델링에 사용될 피쳐(feature)들의 알맞은 형태로 가공하는 일입니다.\n","\n","피쳐는 종속변수(dependent variable)인 Output과 독립변수(independent variable)인 Input으로 나뉩니다.\n","(참고사항, 데이터분석의 피쳐(feature)와 변수(variable), 차원(dimension), 속성(attribute)은 휴리스틱(heuristic)하게 사용합니다.)"]},{"cell_type":"markdown","id":"21534edf","metadata":{"id":"21534edf"},"source":["데이터셋은 학습(train)데이터와 평가(test)데이터로 나뉩니다."]},{"cell_type":"markdown","id":"a2381d41","metadata":{"id":"a2381d41"},"source":["전처리과정의 통합(intergration), 정제(cleaning), 변환(transformation), 축소(reduction) 등\n","\n","학습 데이터 셋과 평가 데이터 셋이 동일한 목적을 가지며 **반드시 함께** 진행되어야 합니다.\n","\n","- 통합의 경우, 여러 데이터를 모으는 과정을 포함합니다.\n","- 정제의 경우, 데이터가 가지는 이상치(outlier) 및 결측치(NaN, Null)를 확인 및 수정,제거 과정을 포함합니다.\n","- 변환의 경우, 데이터가 가지는 형태(type)를 조정하는 과정을 포함합니다.\n","- 축소의 경우, 여러 데이터가 가지는 분포를 고려하여 계산과정, 시간을 축소시키는 과정을 포함합니다."]},{"cell_type":"markdown","id":"VRdtDs4lysU1","metadata":{"id":"VRdtDs4lysU1"},"source":["### 데이터확인"]},{"cell_type":"code","execution_count":null,"id":"1aecb168","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"id":"1aecb168","outputId":"b0e234dc-a2be-4a4a-93c9-5a31d094ecb3","scrolled":true},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 301 entries, 0 to 300\n","Data columns (total 58 columns):\n"," #   Column              Non-Null Count  Dtype  \n","---  ------              --------------  -----  \n"," 0   inst_id             301 non-null    int64  \n"," 1   OC                  301 non-null    object \n"," 2   sido                301 non-null    object \n"," 3   sgg                 301 non-null    int64  \n"," 4   openDate            301 non-null    int64  \n"," 5   bedCount            296 non-null    float64\n"," 6   instkind            300 non-null    object \n"," 7   revenue1            293 non-null    float64\n"," 8   salescost1          293 non-null    float64\n"," 9   sga1                293 non-null    float64\n"," 10  salary1             293 non-null    float64\n"," 11  noi1                293 non-null    float64\n"," 12  noe1                293 non-null    float64\n"," 13  interest1           293 non-null    float64\n"," 14  ctax1               293 non-null    float64\n"," 15  profit1             293 non-null    float64\n"," 16  liquidAsset1        293 non-null    float64\n"," 17  quickAsset1         293 non-null    float64\n"," 18  receivableS1        293 non-null    float64\n"," 19  inventoryAsset1     293 non-null    float64\n"," 20  nonCAsset1          293 non-null    float64\n"," 21  tanAsset1           293 non-null    float64\n"," 22  OnonCAsset1         293 non-null    float64\n"," 23  receivableL1        293 non-null    float64\n"," 24  debt1               293 non-null    float64\n"," 25  liquidLiabilities1  293 non-null    float64\n"," 26  shortLoan1          293 non-null    float64\n"," 27  NCLiabilities1      293 non-null    float64\n"," 28  longLoan1           293 non-null    float64\n"," 29  netAsset1           293 non-null    float64\n"," 30  surplus1            293 non-null    float64\n"," 31  revenue2            293 non-null    float64\n"," 32  salescost2          293 non-null    float64\n"," 33  sga2                293 non-null    float64\n"," 34  salary2             293 non-null    float64\n"," 35  noi2                293 non-null    float64\n"," 36  noe2                293 non-null    float64\n"," 37  interest2           293 non-null    float64\n"," 38  ctax2               293 non-null    float64\n"," 39  profit2             293 non-null    float64\n"," 40  liquidAsset2        293 non-null    float64\n"," 41  quickAsset2         293 non-null    float64\n"," 42  receivableS2        293 non-null    float64\n"," 43  inventoryAsset2     293 non-null    float64\n"," 44  nonCAsset2          293 non-null    float64\n"," 45  tanAsset2           293 non-null    float64\n"," 46  OnonCAsset2         293 non-null    float64\n"," 47  receivableL2        293 non-null    float64\n"," 48  debt2               293 non-null    float64\n"," 49  liquidLiabilities2  293 non-null    float64\n"," 50  shortLoan2          293 non-null    float64\n"," 51  NCLiabilities2      293 non-null    float64\n"," 52  longLoan2           293 non-null    float64\n"," 53  netAsset2           293 non-null    float64\n"," 54  surplus2            293 non-null    float64\n"," 55  employee1           291 non-null    float64\n"," 56  employee2           288 non-null    float64\n"," 57  ownerChange         289 non-null    object \n","dtypes: float64(51), int64(3), object(4)\n","memory usage: 136.5+ KB\n"]},{"output_type":"display_data","data":{"text/plain":["None"]},"metadata":{}}],"source":["# info(): 데이터프레임의 행(column), 개수(count), 데이터형태(dtype)를 확인할 수 있는 함수입니다. \n","# display(): 데이터프레임 및 시리즈(series), 이미지 객체를 표시할 때 사용하는 함수입니다. print()와 유사합니다.\n","\n","display(train.info())"]},{"cell_type":"code","execution_count":null,"id":"603c55ff","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"id":"603c55ff","outputId":"c9687b04-642d-401e-9ea2-eb0360501169","scrolled":true},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 127 entries, 0 to 126\n","Data columns (total 58 columns):\n"," #   Column              Non-Null Count  Dtype  \n","---  ------              --------------  -----  \n"," 0   inst_id             127 non-null    int64  \n"," 1   OC                  0 non-null      float64\n"," 2   sido                127 non-null    object \n"," 3   sgg                 127 non-null    int64  \n"," 4   openDate            126 non-null    float64\n"," 5   bedCount            119 non-null    float64\n"," 6   instkind            125 non-null    object \n"," 7   revenue1            125 non-null    float64\n"," 8   salescost1          125 non-null    float64\n"," 9   sga1                125 non-null    float64\n"," 10  salary1             125 non-null    float64\n"," 11  noi1                125 non-null    float64\n"," 12  noe1                125 non-null    float64\n"," 13  interest1           125 non-null    float64\n"," 14  ctax1               125 non-null    float64\n"," 15  profit1             125 non-null    float64\n"," 16  liquidAsset1        125 non-null    float64\n"," 17  quickAsset1         125 non-null    float64\n"," 18  receivableS1        125 non-null    float64\n"," 19  inventoryAsset1     125 non-null    float64\n"," 20  nonCAsset1          125 non-null    float64\n"," 21  tanAsset1           125 non-null    float64\n"," 22  OnonCAsset1         125 non-null    float64\n"," 23  receivableL1        125 non-null    float64\n"," 24  debt1               125 non-null    float64\n"," 25  liquidLiabilities1  125 non-null    float64\n"," 26  shortLoan1          125 non-null    float64\n"," 27  NCLiabilities1      125 non-null    float64\n"," 28  longLoan1           125 non-null    float64\n"," 29  netAsset1           125 non-null    float64\n"," 30  surplus1            125 non-null    float64\n"," 31  revenue2            125 non-null    float64\n"," 32  salescost2          125 non-null    float64\n"," 33  sga2                125 non-null    float64\n"," 34  salary2             125 non-null    float64\n"," 35  noi2                125 non-null    float64\n"," 36  noe2                125 non-null    float64\n"," 37  interest2           125 non-null    float64\n"," 38  ctax2               125 non-null    float64\n"," 39  profit2             125 non-null    float64\n"," 40  liquidAsset2        125 non-null    float64\n"," 41  quickAsset2         125 non-null    float64\n"," 42  receivableS2        125 non-null    float64\n"," 43  inventoryAsset2     125 non-null    float64\n"," 44  nonCAsset2          125 non-null    float64\n"," 45  tanAsset2           125 non-null    float64\n"," 46  OnonCAsset2         125 non-null    float64\n"," 47  receivableL2        125 non-null    float64\n"," 48  debt2               125 non-null    float64\n"," 49  liquidLiabilities2  125 non-null    float64\n"," 50  shortLoan2          125 non-null    float64\n"," 51  NCLiabilities2      125 non-null    float64\n"," 52  longLoan2           125 non-null    float64\n"," 53  netAsset2           125 non-null    float64\n"," 54  surplus2            125 non-null    float64\n"," 55  employee1           119 non-null    object \n"," 56  employee2           112 non-null    object \n"," 57  ownerChange         112 non-null    object \n","dtypes: float64(51), int64(2), object(5)\n","memory usage: 57.7+ KB\n"]},{"output_type":"display_data","data":{"text/plain":["None"]},"metadata":{}}],"source":["display(test.info())"]},{"cell_type":"markdown","id":"96a7b393","metadata":{"id":"96a7b393"},"source":[" 학습데이터, 평가데이터의 행(columns)의  데이터의 형태가 상이합니다.\n","- (1) OC: {train: object, test: float64}\n","- (2) openDate: {train: int64, test: float64}\n","- (3-1) employee1: {train: float64, test: object} \n","- (3-2) employee2: {train: float64, test: object} "]},{"cell_type":"markdown","id":"1fcb7001","metadata":{"id":"1fcb7001"},"source":["#### 전처리 하나씩 수정하겠습니다!"]},{"cell_type":"markdown","id":"525926cb","metadata":{"id":"525926cb"},"source":["#### 1.OC\n","OC: {train: object, test: float64}\n","\n","- 학습데이터 OC의 경우 'object'형 타입을 가지고 있습니다. \n","- 평가데이터 OC의 경우 'float64'형 타입을 가지고 있습니다.\n","\n","처리과정 \n","1. test의 Nan 값은 모델링을 거친 후 저희가 알아내야할 결과값입니다. 그렇기 때문에 NaN 값이 정상입니다.\n","2. train의 클래스(class) 중 ' close'의 공백 제거"]},{"cell_type":"code","execution_count":null,"id":"4da7ab92","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"4da7ab92","outputId":"7d91f6ff-fe4c-4e34-c1fe-81eb3dc283fb"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 OC의 클래스 종류는 ['open' ' close']이다.\n","평가데이터 OC의 클래스 종류는 [nan]이다.\n"]}],"source":["# print(): 문자형이나 데이터프레임, 시리즈를 표시하는 함수입니다..\n","# format(): 문자형데이터에 {}에 해당하는 부분에 포함되는 함수입니다.\n","# Backslash, \\: 코드가 가로로 길어질 때, 가독성 또는 편의성을 위한 내려쓰기를 위해 사용합니다.\n","# unique(): 클래스의 종류를 나타내는 함수입니다. 유사하에 클래스의 개수를 알 수있는 nunique()도 존재합니다.\n","\n","print('학습데이터 OC의 클래스 종류는 {}이다.\\n평가데이터 OC의 클래스 종류는 {}이다.' \\\n","      .format(train['OC'].unique(), test['OC'].unique()))"]},{"cell_type":"code","execution_count":null,"id":"ec2de125","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ec2de125","outputId":"3ea4e693-32b8-401b-edc5-b67bbbb3a674"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 OC의 클래스 종류는 ['open' 'close']이다.\n","평가데이터 OC의 클래스 종류는 [nan]이다.\n"]}],"source":["# apply(): 데이터프레임을 호출하는 함수입니다.\n","# lambda(): 간단한 함수식을 구현하는 람다함수입니다. \n","# \"lambda x : (x+1)/2\" 이라는 함수가 정의될 때, 변수는 x, x에 1을 더하고 나누어주는 식입니다.\n","# replace(): 문자열(str)데이터의 포함된 문자를 대체해주는 함수입니다. \n","\n","# train의 클래스(class) 중 ' close'의 공백 제거\n","train['OC'] = train['OC'].apply(lambda x : x.replace(' ','')) # ' close' 공백제거\n","\n","print('학습데이터 OC의 클래스 종류는 {}이다.\\n평가데이터 OC의 클래스 종류는 {}이다.' \\\n","      .format(train['OC'].unique(), test['OC'].unique()))"]},{"cell_type":"markdown","id":"ead8e24d","metadata":{"id":"ead8e24d"},"source":["#### 2.openDate\n","openDate: {train: int64, test: float64}\n","- 학습데이터 openDate의 경우 'int64'형 타입을 가지고 있습니다. \n","- 평가데이터 openDate의 경우 'float64'형 타입을 가지고 있습니다.\n","\n","처리과정\n","1. 결측치가 아닌 값을 'int64'로 변환해주기 위해서 결측치를 미리 -1로 처리하겠습니다.\n","2. 'int64'로 변환합니다."]},{"cell_type":"code","execution_count":null,"id":"0506924c","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"0506924c","outputId":"c7b8dd4d-9769-4ab0-9fe4-0ab0b3bfc1bc"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 openDate의 데이터타입은 int64이다.\n","평가데이터 openDate의 데이터타입은 float64이다.\n"]}],"source":["print('학습데이터 openDate의 데이터타입은 {}이다.\\n평가데이터 openDate의 데이터타입은 {}이다.' \\\n","      .format(train['openDate'].dtype, test['openDate'].dtype))"]},{"cell_type":"code","execution_count":null,"id":"84a64bc8","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"84a64bc8","outputId":"a2894f72-9b0c-4f63-f897-df6d8d45141a"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 openDate의 데이터타입은 int64이다.\n","평가데이터 openDate의 데이터타입은 int64이다.\n"]}],"source":["# fillna(): 결측치를 함수에 입력된 인수(argument)로 대체하는 함수입니다. \n","# inplace의 경우 기존의 데이터를 대체한다는 매개변수(parameter)입니다. \n","\n","test['openDate'].fillna(-1, inplace=True) # 연속형 변수 결측치 -1 처리\n","test['openDate'] = test['openDate'].apply(lambda x : int(x))\n","\n","print('학습데이터 openDate의 데이터타입은 {}이다.\\n평가데이터 openDate의 데이터타입은 {}이다.' \\\n","      .format(train['openDate'].dtype, test['openDate'].dtype))"]},{"cell_type":"markdown","id":"f839d590","metadata":{"id":"f839d590"},"source":["#### 3.employee1,2\n","employee1: {train: float64, test: object}\n","\n","employee2: {train: float64, test: object}\n","- 학습데이터 employee1,2의 경우 'float64'형 타입을 가지고 있습니다. \n","- 평가데이터 employee1,2의 경우 'object'형 타입을 가지고 있습니다.\n","\n","처리과정\n","1. 평가데이터의 경우, '1,104'와 같은 쉼표를 포함하는 문자열이 포함된 것을 확인할 수 있습니다.\n","2. 문자열을 수치형 데이터로 변환하기 위해 ','를 제거하고, 수치형으로 변환하겠습니다."]},{"cell_type":"code","execution_count":null,"id":"36c5e39b","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"36c5e39b","outputId":"1655484a-6290-4209-c3b9-3cab1179266a"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 employee1의 범위는 0.0~1200.0이다.\n","평가데이터 employee1의 클래스 종류는 ['693' '379' nan '760' '437' '386' '727' '377' '17' '532' '128' '1,637'\n"," '1,816' '566' '104' '244' '187' '431' '150' '361' '41' '110' '457' '210'\n"," '344' '250' '48' '109' '292' '121' '83' '100' '154' '134' '107' '89' '86'\n"," '69' '93' '324' '1,065' '340' '55' '22' '300' '120' '260' '143' '78' '81'\n"," '46' '74' '155' '130' '122' '59' '180' '855' '30' '96' '75' '44' '203'\n"," '70' '129' '67' '85' '236' '29' '116' '37' '25' '45' '47' '52' '56' '76'\n"," '125' '80' '63' '90' '190' '222' '32' '66' '224' '61' '28' '604' '33'\n"," '16' '36' '106' '60' '19' '49' '21' '111' '560' '132' '363']이다.\n"]}],"source":["# max(), min(): 데이터타입이 수치형인 경우, 최댓값과 최솟값을 구할 수 있습니다.\n","\n","print('학습데이터 employee1의 범위는 {}~{}이다.\\n평가데이터 employee1의 클래스 종류는 {}이다.' \\\n","      .format(train['employee1'].min(),train['employee1'].max(),test['employee1'].unique()))"]},{"cell_type":"code","execution_count":null,"id":"58c06993","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"58c06993","outputId":"0dfe2ff7-64c9-457c-d8e4-0a884206f698"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 employee2의 범위는 0.0~1200.0이다.\n","평가데이터 employee2의 클래스 종류는 ['693' '371' nan '760' '385' '397' '580' '346' '17' '409' '127' '1,547'\n"," '1,104' '566' '100' '258' '165' '412' '235' '41' '190' '112' '457' '149'\n"," '280' '260' '52' '109' '292' '121' '85' '82' '42' '55' '95' '96' '72'\n"," '324' '1,065' '340' '24' '300' '120' '240' '143' '79' '78' '200' '74'\n"," '49' '150' '125' '108' '117' '59' '191' '855' '30' '37' '188' '0' '70'\n"," '46' '134' '65' '87' '236' '75' '26' '45' '47' '54' '83' '81' '90' '170'\n"," '222' '32' '67' '66' '239' '130' '25' '604' '56' '20' '63' '16' '103'\n"," '68' '98' '57' '19' '40' '21' '111' '137' '343']이다.\n"]}],"source":["print('학습데이터 employee2의 범위는 {}~{}이다.\\n평가데이터 employee2의 클래스 종류는 {}이다.' \\\n","      .format(train['employee2'].min(),train['employee2'].max(),test['employee2'].unique()))"]},{"cell_type":"code","execution_count":null,"id":"233bc172","metadata":{"id":"233bc172"},"outputs":[],"source":["test['employee1'] = test['employee1'].apply(lambda x: float(str(x).replace(',','')))\n","test['employee2'] = test['employee2'].apply(lambda x: float(str(x).replace(',','')))"]},{"cell_type":"code","execution_count":null,"id":"d8cbe2c4","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"d8cbe2c4","outputId":"53a6cce1-a37d-4a68-8740-ae280163c257"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 employee1의 범위는 0.0~1200.0이다.\n","평가데이터 employee1의 클래스 종류는 16.0~1816.0이다.\n"]}],"source":["print('학습데이터 employee1의 범위는 {}~{}이다.\\n평가데이터 employee1의 클래스 종류는 {}~{}이다.' \\\n","      .format(train['employee1'].min(),train['employee1'].max(),test['employee1'].min(),test['employee1'].max()))"]},{"cell_type":"code","execution_count":null,"id":"ad0272b1","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"ad0272b1","outputId":"b9d283b1-5060-40c9-a914-0655126539d3"},"outputs":[{"output_type":"stream","name":"stdout","text":["학습데이터 employee2의 범위는 0.0~1200.0이다.\n","평가데이터 employee2의 클래스 종류는 0.0~1547.0이다.\n"]}],"source":["print('학습데이터 employee2의 범위는 {}~{}이다.\\n평가데이터 employee2의 클래스 종류는 {}~{}이다.' \\\n","      .format(train['employee2'].min(),train['employee2'].max(),test['employee2'].min(),test['employee2'].max()))"]},{"cell_type":"markdown","id":"d66c3d93","metadata":{"id":"d66c3d93"},"source":["##### 드디어 학습데이터와 평가데이터의 동일한 데이터형식이 완성되었습니다!"]},{"cell_type":"code","execution_count":null,"id":"6059dc5e","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":394},"id":"6059dc5e","outputId":"1fa3959e-da58-4f3f-afca-63d29ecf8cf6"},"outputs":[{"output_type":"display_data","data":{"text/plain":["          inst_id         sgg      openDate    bedCount      revenue1  \\\n","count  301.000000  301.000000  3.010000e+02  296.000000  2.930000e+02   \n","mean   219.056478   81.039867  2.005013e+07  145.709459  1.288175e+10   \n","std    121.234869   50.969714  8.893815e+04  118.923890  2.043543e+10   \n","min      1.000000    1.000000  1.978012e+07    0.000000  0.000000e+00   \n","25%    112.000000   37.000000  2.001102e+07   52.750000  3.252112e+09   \n","50%    230.000000   75.000000  2.007113e+07  136.500000  5.524218e+09   \n","75%    321.000000  123.000000  2.011102e+07  193.000000  1.274839e+10   \n","max    428.000000  178.000000  2.017061e+07  656.000000  1.510000e+11   \n","\n","         salescost1          sga1       salary1          noi1          noe1  \\\n","count  2.930000e+02  2.930000e+02  2.930000e+02  2.930000e+02  2.930000e+02   \n","mean   2.014903e+09  1.033244e+10  5.654115e+09  2.696151e+08  5.115870e+08   \n","std    7.460271e+09  1.493886e+10  8.083343e+09  8.023701e+08  1.060379e+09   \n","min    0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00   \n","25%    0.000000e+00  2.758201e+09  1.626053e+09  8.217133e+06  8.013395e+07   \n","50%    2.104105e+08  4.684074e+09  2.659892e+09  4.363764e+07  1.831965e+08   \n","75%    9.105278e+08  1.077876e+10  6.363400e+09  2.050331e+08  4.203330e+08   \n","max    9.850332e+10  1.030000e+11  6.403559e+10  9.144171e+09  8.686380e+09   \n","\n","       ...  receivableL2         debt2  liquidLiabilities2    shortLoan2  \\\n","count  ...  2.930000e+02  2.930000e+02        2.930000e+02  2.930000e+02   \n","mean   ...  2.226700e+05  8.146026e+09        3.860584e+09  1.510050e+09   \n","std    ...  3.811496e+06  1.255800e+10        6.797242e+09  2.953412e+09   \n","min    ...  0.000000e+00  0.000000e+00        0.000000e+00  0.000000e+00   \n","25%    ...  0.000000e+00  1.283220e+09        2.855741e+08  0.000000e+00   \n","50%    ...  0.000000e+00  3.784553e+09        1.454050e+09  8.542549e+07   \n","75%    ...  0.000000e+00  8.465053e+09        4.364714e+09  1.567967e+09   \n","max    ...  6.524231e+07  8.508858e+10        6.846878e+10  1.759375e+10   \n","\n","       NCLiabilities2     longLoan2     netAsset2      surplus2    employee1  \\\n","count    2.930000e+02  2.930000e+02  2.930000e+02  2.930000e+02   291.000000   \n","mean     4.471247e+09  2.709979e+09  5.273919e+09  9.786279e+08   142.546392   \n","std      7.659580e+09  4.564001e+09  1.081259e+10  4.688798e+09   160.191073   \n","min      0.000000e+00  0.000000e+00 -2.014780e+10 -2.781507e+09     0.000000   \n","25%      2.557878e+07  0.000000e+00  1.017573e+09  0.000000e+00    53.500000   \n","50%      1.969747e+09  1.100000e+09  2.894970e+09  0.000000e+00    80.000000   \n","75%      4.905441e+09  3.360000e+09  5.370285e+09  1.014447e+08   181.500000   \n","max      5.150388e+10  3.256147e+10  1.250000e+11  6.852730e+10  1200.000000   \n","\n","         employee2  \n","count   288.000000  \n","mean    134.326389  \n","std     151.061786  \n","min       0.000000  \n","25%      53.750000  \n","50%      79.000000  \n","75%     170.000000  \n","max    1200.000000  \n","\n","[8 rows x 54 columns]"],"text/html":["\n","  <div id=\"df-25b64d15-28ba-4485-b8ee-c84ceb010def\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>salary1</th>\n","      <th>noi1</th>\n","      <th>noe1</th>\n","      <th>...</th>\n","      <th>receivableL2</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>count</th>\n","      <td>301.000000</td>\n","      <td>301.000000</td>\n","      <td>3.010000e+02</td>\n","      <td>296.000000</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>...</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>2.930000e+02</td>\n","      <td>291.000000</td>\n","      <td>288.000000</td>\n","    </tr>\n","    <tr>\n","      <th>mean</th>\n","      <td>219.056478</td>\n","      <td>81.039867</td>\n","      <td>2.005013e+07</td>\n","      <td>145.709459</td>\n","      <td>1.288175e+10</td>\n","      <td>2.014903e+09</td>\n","      <td>1.033244e+10</td>\n","      <td>5.654115e+09</td>\n","      <td>2.696151e+08</td>\n","      <td>5.115870e+08</td>\n","      <td>...</td>\n","      <td>2.226700e+05</td>\n","      <td>8.146026e+09</td>\n","      <td>3.860584e+09</td>\n","      <td>1.510050e+09</td>\n","      <td>4.471247e+09</td>\n","      <td>2.709979e+09</td>\n","      <td>5.273919e+09</td>\n","      <td>9.786279e+08</td>\n","      <td>142.546392</td>\n","      <td>134.326389</td>\n","    </tr>\n","    <tr>\n","      <th>std</th>\n","      <td>121.234869</td>\n","      <td>50.969714</td>\n","      <td>8.893815e+04</td>\n","      <td>118.923890</td>\n","      <td>2.043543e+10</td>\n","      <td>7.460271e+09</td>\n","      <td>1.493886e+10</td>\n","      <td>8.083343e+09</td>\n","      <td>8.023701e+08</td>\n","      <td>1.060379e+09</td>\n","      <td>...</td>\n","      <td>3.811496e+06</td>\n","      <td>1.255800e+10</td>\n","      <td>6.797242e+09</td>\n","      <td>2.953412e+09</td>\n","      <td>7.659580e+09</td>\n","      <td>4.564001e+09</td>\n","      <td>1.081259e+10</td>\n","      <td>4.688798e+09</td>\n","      <td>160.191073</td>\n","      <td>151.061786</td>\n","    </tr>\n","    <tr>\n","      <th>min</th>\n","      <td>1.000000</td>\n","      <td>1.000000</td>\n","      <td>1.978012e+07</td>\n","      <td>0.000000</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>-2.014780e+10</td>\n","      <td>-2.781507e+09</td>\n","      <td>0.000000</td>\n","      <td>0.000000</td>\n","    </tr>\n","    <tr>\n","      <th>25%</th>\n","      <td>112.000000</td>\n","      <td>37.000000</td>\n","      <td>2.001102e+07</td>\n","      <td>52.750000</td>\n","      <td>3.252112e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>2.758201e+09</td>\n","      <td>1.626053e+09</td>\n","      <td>8.217133e+06</td>\n","      <td>8.013395e+07</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>1.283220e+09</td>\n","      <td>2.855741e+08</td>\n","      <td>0.000000e+00</td>\n","      <td>2.557878e+07</td>\n","      <td>0.000000e+00</td>\n","      <td>1.017573e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>53.500000</td>\n","      <td>53.750000</td>\n","    </tr>\n","    <tr>\n","      <th>50%</th>\n","      <td>230.000000</td>\n","      <td>75.000000</td>\n","      <td>2.007113e+07</td>\n","      <td>136.500000</td>\n","      <td>5.524218e+09</td>\n","      <td>2.104105e+08</td>\n","      <td>4.684074e+09</td>\n","      <td>2.659892e+09</td>\n","      <td>4.363764e+07</td>\n","      <td>1.831965e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>3.784553e+09</td>\n","      <td>1.454050e+09</td>\n","      <td>8.542549e+07</td>\n","      <td>1.969747e+09</td>\n","      <td>1.100000e+09</td>\n","      <td>2.894970e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>80.000000</td>\n","      <td>79.000000</td>\n","    </tr>\n","    <tr>\n","      <th>75%</th>\n","      <td>321.000000</td>\n","      <td>123.000000</td>\n","      <td>2.011102e+07</td>\n","      <td>193.000000</td>\n","      <td>1.274839e+10</td>\n","      <td>9.105278e+08</td>\n","      <td>1.077876e+10</td>\n","      <td>6.363400e+09</td>\n","      <td>2.050331e+08</td>\n","      <td>4.203330e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>8.465053e+09</td>\n","      <td>4.364714e+09</td>\n","      <td>1.567967e+09</td>\n","      <td>4.905441e+09</td>\n","      <td>3.360000e+09</td>\n","      <td>5.370285e+09</td>\n","      <td>1.014447e+08</td>\n","      <td>181.500000</td>\n","      <td>170.000000</td>\n","    </tr>\n","    <tr>\n","      <th>max</th>\n","      <td>428.000000</td>\n","      <td>178.000000</td>\n","      <td>2.017061e+07</td>\n","      <td>656.000000</td>\n","      <td>1.510000e+11</td>\n","      <td>9.850332e+10</td>\n","      <td>1.030000e+11</td>\n","      <td>6.403559e+10</td>\n","      <td>9.144171e+09</td>\n","      <td>8.686380e+09</td>\n","      <td>...</td>\n","      <td>6.524231e+07</td>\n","      <td>8.508858e+10</td>\n","      <td>6.846878e+10</td>\n","      <td>1.759375e+10</td>\n","      <td>5.150388e+10</td>\n","      <td>3.256147e+10</td>\n","      <td>1.250000e+11</td>\n","      <td>6.852730e+10</td>\n","      <td>1200.000000</td>\n","      <td>1200.000000</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>8 rows × 54 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-25b64d15-28ba-4485-b8ee-c84ceb010def')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-25b64d15-28ba-4485-b8ee-c84ceb010def button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-25b64d15-28ba-4485-b8ee-c84ceb010def');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["# describe(): 수치형데이터의 기초통계량을 산출해주는 함수입니다.\n","\n","display(train.describe())"]},{"cell_type":"code","execution_count":null,"id":"24f94ff8","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":175},"id":"24f94ff8","outputId":"ac38edca-94f2-4e5f-fbf7-dcbf6d6e9fe1"},"outputs":[{"output_type":"display_data","data":{"text/plain":["          OC      sido          instkind ownerChange\n","count    301       301               300         289\n","unique     2        16                 7           2\n","top     open  gyeonggi  nursing_hospital        same\n","freq     286        49               144         247"],"text/html":["\n","  <div id=\"df-cc6c8ce8-f088-4b1c-a7fe-9734e2b601ad\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>instkind</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>count</th>\n","      <td>301</td>\n","      <td>301</td>\n","      <td>300</td>\n","      <td>289</td>\n","    </tr>\n","    <tr>\n","      <th>unique</th>\n","      <td>2</td>\n","      <td>16</td>\n","      <td>7</td>\n","      <td>2</td>\n","    </tr>\n","    <tr>\n","      <th>top</th>\n","      <td>open</td>\n","      <td>gyeonggi</td>\n","      <td>nursing_hospital</td>\n","      <td>same</td>\n","    </tr>\n","    <tr>\n","      <th>freq</th>\n","      <td>286</td>\n","      <td>49</td>\n","      <td>144</td>\n","      <td>247</td>\n","    </tr>\n","  </tbody>\n","</table>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-cc6c8ce8-f088-4b1c-a7fe-9734e2b601ad')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-cc6c8ce8-f088-4b1c-a7fe-9734e2b601ad button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-cc6c8ce8-f088-4b1c-a7fe-9734e2b601ad');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["# describe(include='object'): 범주형데이터의 통계량을 산출해주는 함수입니다.\n","\n","display(train.describe(include='object'))"]},{"cell_type":"code","execution_count":null,"id":"85585d0f","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"85585d0f","outputId":"21836450-f211-4eb7-be07-c941b686b0bc","scrolled":true},"outputs":[{"output_type":"stream","name":"stdout","text":["####################수치형변수-Train####################\n","inst_id : 428 ~ 1\n","sgg : 178 ~ 1\n","openDate : 20170607 ~ 19780124\n","bedCount : 656.0 ~ 0.0\n","revenue1 : 151000000000.0 ~ 0.0\n","salescost1 : 98503322990.0 ~ 0.0\n","sga1 : 103000000000.0 ~ 0.0\n","salary1 : 64035593950.0 ~ 0.0\n","noi1 : 9144170639.0 ~ 0.0\n","noe1 : 8686379500.0 ~ 0.0\n","interest1 : 2841474870.0 ~ 0.0\n","ctax1 : 2808883191.0 ~ 0.0\n","profit1 : 7475426881.0 ~ -4696700774.0\n","liquidAsset1 : 42808356695.0 ~ 0.0\n","quickAsset1 : 41791456468.0 ~ 0.0\n","receivableS1 : 14092571696.0 ~ 0.0\n","inventoryAsset1 : 2067763564.0 ~ 0.0\n","nonCAsset1 : 156000000000.0 ~ 0.0\n","tanAsset1 : 156000000000.0 ~ 0.0\n","OnonCAsset1 : 10085168680.0 ~ 0.0\n","receivableL1 : 73742310.0 ~ 0.0\n","debt1 : 86697249913.0 ~ 0.0\n","liquidLiabilities1 : 39373879374.0 ~ 0.0\n","shortLoan1 : 19885197610.0 ~ 0.0\n","NCLiabilities1 : 55017362619.0 ~ 0.0\n","longLoan1 : 41124897062.0 ~ 0.0\n","netAsset1 : 139000000000.0 ~ -20196244362.0\n","surplus1 : 134000000000.0 ~ -2914969563.0\n","revenue2 : 137000000000.0 ~ 0.0\n","salescost2 : 86581590331.0 ~ 0.0\n","sga2 : 98378400364.0 ~ 0.0\n","salary2 : 61279110456.0 ~ 0.0\n","noi2 : 4035894971.0 ~ 0.0\n","noe2 : 8826977467.0 ~ 0.0\n","interest2 : 2593366043.0 ~ 0.0\n","ctax2 : 2790916274.0 ~ 0.0\n","profit2 : 10270365720.0 ~ -4064822885.0\n","liquidAsset2 : 40818694405.0 ~ 0.0\n","quickAsset2 : 39705368784.0 ~ 0.0\n","receivableS2 : 16342538605.0 ~ 0.0\n","inventoryAsset2 : 1812222311.0 ~ 0.0\n","nonCAsset2 : 164000000000.0 ~ 0.0\n","tanAsset2 : 163000000000.0 ~ 0.0\n","OnonCAsset2 : 8767966280.0 ~ 0.0\n","receivableL2 : 65242310.0 ~ 0.0\n","debt2 : 85088583901.0 ~ 0.0\n","liquidLiabilities2 : 68468775764.0 ~ 0.0\n","shortLoan2 : 17593752360.0 ~ 0.0\n","NCLiabilities2 : 51503883627.0 ~ 0.0\n","longLoan2 : 32561472110.0 ~ 0.0\n","netAsset2 : 125000000000.0 ~ -20147802018.0\n","surplus2 : 68527297093.0 ~ -2781506722.0\n","employee1 : 1200.0 ~ 0.0\n","employee2 : 1200.0 ~ 0.0\n","####################수치형변수-Test####################\n","inst_id : 431 ~ 1\n","sgg : 177 ~ 1\n","openDate : 20170531 ~ 19780124\n","bedCount : 771.0 ~ 0.0\n","revenue1 : 181000000000.0 ~ 0.0\n","salescost1 : 116000000000.0 ~ 0.0\n","sga1 : 127000000000.0 ~ 0.0\n","salary1 : 82395611833.0 ~ 0.0\n","noi1 : 7302719335.0 ~ 0.0\n","noe1 : 11496795211.0 ~ 0.0\n","interest1 : 2573803974.0 ~ 0.0\n","ctax1 : 2308489420.0 ~ 0.0\n","profit1 : 11208159317.0 ~ -4696700774.0\n","liquidAsset1 : 43870284311.0 ~ 0.0\n","quickAsset1 : 41979652806.0 ~ 0.0\n","receivableS1 : 21441826107.0 ~ 0.0\n","inventoryAsset1 : 1818617919.0 ~ 0.0\n","nonCAsset1 : 130000000000.0 ~ 0.0\n","tanAsset1 : 117000000000.0 ~ 0.0\n","OnonCAsset1 : 7537348637.0 ~ 0.0\n","receivableL1 : 325392770.0 ~ 0.0\n","debt1 : 129000000000.0 ~ 0.0\n","liquidLiabilities1 : 68916350701.0 ~ 0.0\n","shortLoan1 : 38059269376.0 ~ 0.0\n","NCLiabilities1 : 85286333620.0 ~ 0.0\n","longLoan1 : 26425324332.0 ~ 0.0\n","netAsset1 : 49434037769.0 ~ -20196244362.0\n","surplus1 : 34114713245.0 ~ -2914969563.0\n","revenue2 : 170000000000.0 ~ 0.0\n","salescost2 : 107000000000.0 ~ 0.0\n","sga2 : 122000000000.0 ~ 0.0\n","salary2 : 78900698511.0 ~ 0.0\n","noi2 : 6445389817.0 ~ 0.0\n","noe2 : 12518423585.0 ~ 0.0\n","interest2 : 3925279031.0 ~ 0.0\n","ctax2 : 1336396350.0 ~ 0.0\n","profit2 : 11303536389.0 ~ -4064822885.0\n","liquidAsset2 : 55591590517.0 ~ 0.0\n","quickAsset2 : 53481868205.0 ~ 0.0\n","receivableS2 : 18084349377.0 ~ 0.0\n","inventoryAsset2 : 1627064008.0 ~ 0.0\n","nonCAsset2 : 125000000000.0 ~ 0.0\n","tanAsset2 : 113000000000.0 ~ 0.0\n","OnonCAsset2 : 7112779552.0 ~ 0.0\n","receivableL2 : 2466393.0 ~ 0.0\n","debt2 : 131000000000.0 ~ 0.0\n","liquidLiabilities2 : 52414267533.0 ~ 0.0\n","shortLoan2 : 37143344381.0 ~ 0.0\n","NCLiabilities2 : 78556538604.0 ~ 0.0\n","longLoan2 : 36202877976.0 ~ 0.0\n","netAsset2 : 49244922328.0 ~ -20147802018.0\n","surplus2 : 25617866194.0 ~ -2781506722.0\n","employee1 : 1816.0 ~ 0.0\n","employee2 : 1547.0 ~ 0.0\n","####################범주형변수-Train####################\n","OC : ['open' 'close'] \n","\n","sido : ['choongnam' 'gyeongnam' 'gyeonggi' 'incheon' 'busan' 'jeonnam' 'seoul'\n"," 'jeonbuk' 'choongbuk' 'ulsan' 'daejeon' 'daegu' 'gyeongbuk' 'gangwon'\n"," 'gwangju' 'sejong'] \n","\n","instkind : ['nursing_hospital' 'general_hospital' 'hospital' 'traditional_clinic'\n"," 'clinic' 'traditional_hospital' 'dental_clinic' nan] \n","\n","ownerChange : ['same' 'change' nan] \n","\n","####################범주형변수-Test####################\n","OC : [nan] \n","\n","sido : ['incheon' 'jeju' 'jeonnam' 'busan' 'jeonbuk' 'gyeonggi' 'gyeongbuk'\n"," 'daejeon' 'seoul' 'daegu' 'choongbuk' 'ulsan' 'gyeongnam' 'choongnam'\n"," 'sejong'] \n","\n","instkind : ['general_hospital' 'hospital' 'nursing_hospital' 'traditional_clinic'\n"," 'clinic' nan 'traditional_hospital'] \n","\n","ownerChange : ['same' nan 'change'] \n","\n"]}],"source":["# 수치형 변수와 범주형 변수를 가져오기 위해 describe()를 응용해서 사용했습니다.\n","\n","numeric_col = train.describe().columns # 연속형 변수\n","categorical_col = train.describe(include='object').columns # 범주형 변수\n","\n","# 변수들 범위 및 클래스\n","print('####################수치형변수-Train####################')\n","for col in numeric_col:\n","    print(col, ':', train[col].max(), '~', train[col].min())\n","print('####################수치형변수-Test####################')    \n","for col in numeric_col:\n","    print(col, ':', test[col].max(), '~', train[col].min())\n","print('####################범주형변수-Train####################')\n","for col in categorical_col:\n","    print(col,':', train[col].unique(),'\\n')\n","print('####################범주형변수-Test####################')\n","for col in categorical_col:\n","    print(col,':', test[col].unique(),'\\n')"]},{"cell_type":"markdown","id":"0e927fe9","metadata":{"id":"0e927fe9"},"source":["## 추가전처리 입니다. 여기서 부턴 데이터 이해 및 아이디어 생산 과정입니다!\n","저희팀은 1. 특정 결측치 조정  2. 이상치처리 3. 결측치 처리 4. 파생변수 5. 인코딩 6. 스케일링  을 진행했습니다."]},{"cell_type":"markdown","id":"f639fda0","metadata":{"id":"f639fda0"},"source":["###  1.특정 결측치 조정\n","\n","저희팀은 employee2(2016년 데이터)와 employee1(2017년 데이터)에 대해서 수정했습니다. \n","\n","2016년의 결측치 중에 2017년에 정상값이 존재한다면, 2017년 데이터로 대체하였습니다.\n","\n","- 2017년도 운영이 지속되었으니 인원수에 큰 변화가 없을 것으로 추정했습니다.\n","- 상관계수가 매우 높은 수준(0.97)으로 산출되었습니다."]},{"cell_type":"code","execution_count":null,"id":"97b81c31","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"97b81c31","outputId":"85113b23-2e7d-461b-c519-af00bcd289c8"},"outputs":[{"output_type":"stream","name":"stdout","text":["train의 employee1, 2의 상관계수 0.97\n","test의 employee1, 2의 상관계수 0.97\n"]}],"source":["# temp는 temporary의 약자로 제가 주로 사용하는 변수명입니다.\n","# 해당 셀(cell)에서만 사용하는 간단한 변수를 지정할 때 사용합니다!\n","# 데이터프레임명[]의 '[]'는 슬라이싱(slicing)기법입니다. 데이터프레임 내에 특정 조건 값으로 데이터를 찾는 방법입니다.\n","# 슬라이싱을 좀더 명확하게 호출하기 위해 loc()함수를 사용합니다. loc() 유사하게 인덱스(index)값으로 검색하는 iloc()도 존재합니다. \n","\n","temp = train.loc[(train['employee1'].notnull()) & (train['employee2'].notnull())]\n","print('train의 employee1, 2의 상관계수 {:.2}'.format(np.corrcoef(temp['employee1'],temp['employee2'])[0,1])) # [0,1]은 2X2 행렬 중 두 값의 상관계수만을 가져오기 위해 슬라이싱했습니다.\n","temp = test.loc[(test['employee1'].notnull()) & (test['employee2'].notnull())]\n","print('test의 employee1, 2의 상관계수 {:.2}'.format(np.corrcoef(temp['employee1'],temp['employee2'])[0,1]))"]},{"cell_type":"code","execution_count":null,"id":"be9a553e","metadata":{"id":"be9a553e"},"outputs":[],"source":["train.loc[train['inst_id']==58,'employee2'] = train.loc[train['inst_id']==58,'employee1']\n","train.loc[train['inst_id']==96,'employee2'] = train.loc[train['inst_id']==96,'employee1']\n","train.loc[train['inst_id']==327,'employee2'] = train.loc[train['inst_id']==327,'employee1']\n","train.loc[train['inst_id']==427,'employee2'] = train.loc[train['inst_id']==427,'employee1']\n","\n","test.loc[test['inst_id']==48,'employee2'] = test.loc[test['inst_id']==48,'employee1']\n","test.loc[test['inst_id']==246,'employee2'] = test.loc[test['inst_id']==246,'employee1']\n","test.loc[test['inst_id']==254,'employee2'] = test.loc[test['inst_id']==254,'employee1']\n","test.loc[test['inst_id']==374,'employee2'] = test.loc[test['inst_id']==374,'employee1']\n","test.loc[test['inst_id']==395,'employee2'] = test.loc[test['inst_id']==395,'employee1'] # 중복행\n","test.loc[test['inst_id']==396,'employee2'] = test.loc[test['inst_id']==396,'employee1'] # 중복행\n","test.loc[test['inst_id']==424,'employee2'] = test.loc[test['inst_id']==424,'employee1']"]},{"cell_type":"markdown","id":"1fafb06f","metadata":{"id":"1fafb06f"},"source":["### 2.이상치 처리"]},{"cell_type":"code","execution_count":null,"id":"-E4mZnn-wpDV","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"-E4mZnn-wpDV","outputId":"91d19e7f-9452-4ff9-ad85-3766ce846f47"},"outputs":[{"output_type":"stream","name":"stdout","text":["<class 'pandas.core.frame.DataFrame'>\n","RangeIndex: 428 entries, 0 to 427\n","Data columns (total 58 columns):\n"," #   Column              Non-Null Count  Dtype  \n","---  ------              --------------  -----  \n"," 0   inst_id             428 non-null    int64  \n"," 1   OC                  301 non-null    object \n"," 2   sido                428 non-null    object \n"," 3   sgg                 428 non-null    int64  \n"," 4   openDate            428 non-null    int64  \n"," 5   bedCount            415 non-null    float64\n"," 6   instkind            425 non-null    object \n"," 7   revenue1            418 non-null    float64\n"," 8   salescost1          418 non-null    float64\n"," 9   sga1                418 non-null    float64\n"," 10  salary1             418 non-null    float64\n"," 11  noi1                418 non-null    float64\n"," 12  noe1                418 non-null    float64\n"," 13  interest1           418 non-null    float64\n"," 14  ctax1               418 non-null    float64\n"," 15  profit1             418 non-null    float64\n"," 16  liquidAsset1        418 non-null    float64\n"," 17  quickAsset1         418 non-null    float64\n"," 18  receivableS1        418 non-null    float64\n"," 19  inventoryAsset1     418 non-null    float64\n"," 20  nonCAsset1          418 non-null    float64\n"," 21  tanAsset1           418 non-null    float64\n"," 22  OnonCAsset1         418 non-null    float64\n"," 23  receivableL1        418 non-null    float64\n"," 24  debt1               418 non-null    float64\n"," 25  liquidLiabilities1  418 non-null    float64\n"," 26  shortLoan1          418 non-null    float64\n"," 27  NCLiabilities1      418 non-null    float64\n"," 28  longLoan1           418 non-null    float64\n"," 29  netAsset1           418 non-null    float64\n"," 30  surplus1            418 non-null    float64\n"," 31  revenue2            418 non-null    float64\n"," 32  salescost2          418 non-null    float64\n"," 33  sga2                418 non-null    float64\n"," 34  salary2             418 non-null    float64\n"," 35  noi2                418 non-null    float64\n"," 36  noe2                418 non-null    float64\n"," 37  interest2           418 non-null    float64\n"," 38  ctax2               418 non-null    float64\n"," 39  profit2             418 non-null    float64\n"," 40  liquidAsset2        418 non-null    float64\n"," 41  quickAsset2         418 non-null    float64\n"," 42  receivableS2        418 non-null    float64\n"," 43  inventoryAsset2     418 non-null    float64\n"," 44  nonCAsset2          418 non-null    float64\n"," 45  tanAsset2           418 non-null    float64\n"," 46  OnonCAsset2         418 non-null    float64\n"," 47  receivableL2        418 non-null    float64\n"," 48  debt2               418 non-null    float64\n"," 49  liquidLiabilities2  418 non-null    float64\n"," 50  shortLoan2          418 non-null    float64\n"," 51  NCLiabilities2      418 non-null    float64\n"," 52  longLoan2           418 non-null    float64\n"," 53  netAsset2           418 non-null    float64\n"," 54  surplus2            418 non-null    float64\n"," 55  employee1           410 non-null    float64\n"," 56  employee2           411 non-null    float64\n"," 57  ownerChange         401 non-null    object \n","dtypes: float64(51), int64(3), object(4)\n","memory usage: 194.1+ KB\n"]}],"source":["# concat(): n개의 데이터프레임을 합치는 함수입니다.  \n","\n","data = pd.concat([train, test], ignore_index=True) # 학습데이터와 평가데이터 합치기 -> 동시에 처리하기 위함\n","data.info()"]},{"cell_type":"markdown","id":"d24a85e1","metadata":{"id":"d24a85e1"},"source":["#### 2-1. 범주형 데이터\n","\n","---\n","- 'ownerChange'의 클래스 개수를 확인한 결과, 양호합니다."]},{"cell_type":"code","execution_count":null,"id":"1dfd0de3","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":72},"id":"1dfd0de3","outputId":"c3b9dc18-739c-4640-b19b-fc7c1b26901f"},"outputs":[{"output_type":"display_data","data":{"text/plain":["same      348\n","change     53\n","Name: ownerChange, dtype: int64"]},"metadata":{}}],"source":["# value_counts(): 클래스별 개수를 세어주는 함수입니다.\n","\n","display(data['ownerChange'].value_counts()) # 전체적인 분포가 양호합니다."]},{"cell_type":"code","execution_count":null,"id":"uF5oJIyE_0LE","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":989},"id":"uF5oJIyE_0LE","outputId":"8c24f4bf-d765-42b2-b6fb-6b61dfb5517f"},"outputs":[{"output_type":"display_data","data":{"text/plain":["     inst_id     OC       sido  sgg  openDate  bedCount              instkind  \\\n","48        74   open      seoul    1  19940425      28.0  traditional_hospital   \n","60        94   open    gangwon  128  20031201     244.0      nursing_hospital   \n","62        96   open      busan   64  20170602     128.0      nursing_hospital   \n","93       140  close  gyeongbuk  114  20070420     203.0              hospital   \n","206      298   open  gyeongnam   32  20170120     160.0      nursing_hospital   \n","212      306  close    jeonnam   33  19990603      66.0      nursing_hospital   \n","242      345   open      busan   69  20170420       0.0    traditional_clinic   \n","258      363   open  gyeongbuk   95  20141219       0.0                clinic   \n","263      369   open    gangwon  100  20020123      39.0              hospital   \n","285      407   open  gyeongbuk  160  19881104     119.0              hospital   \n","298      426  close  gyeongbuk  107  19830705       NaN              hospital   \n","299      427  close   gyeonggi  169  20070101     180.0      nursing_hospital   \n","303        6    NaN    jeonnam  103  19890427     276.0      general_hospital   \n","321       48    NaN      daegu   40  19970228     154.0              hospital   \n","323       64    NaN    jeonbuk   34  20060629       NaN              hospital   \n","353      165    NaN    jeonbuk  136  20050321     440.0      nursing_hospital   \n","383      246    NaN    jeonnam  145  19880801     191.0      general_hospital   \n","384      254    NaN  choongbuk  152  20150124      60.0              hospital   \n","389      293    NaN    jeonbuk   26  20050503     124.0      nursing_hospital   \n","394      310    NaN      seoul   36  20100531     104.0      nursing_hospital   \n","400      341    NaN      busan   66  20100226       NaN      nursing_hospital   \n","405      374    NaN  gyeongbuk  107  20120618     142.0      nursing_hospital   \n","413      395    NaN    jeonbuk  143  20161229     156.0      nursing_hospital   \n","414      396    NaN    jeonbuk  143  20161229     156.0      nursing_hospital   \n","423      424    NaN    jeonnam   33  20011012       0.0    traditional_clinic   \n","425      429    NaN   gyeonggi  116  20010101     150.0              hospital   \n","427      431    NaN  choongbuk  163  19961216      96.0              hospital   \n","\n","         revenue1    salescost1          sga1  ...         debt2  \\\n","48   8.872427e+09  9.641249e+08  7.638920e+09  ...  5.958278e+09   \n","60            NaN           NaN           NaN  ...           NaN   \n","62   5.236406e+08  2.306773e+07  8.355775e+08  ...  0.000000e+00   \n","93   5.423357e+09  0.000000e+00  5.212041e+09  ...  2.733619e+09   \n","206  3.279139e+09  3.726966e+08  3.507972e+09  ...  0.000000e+00   \n","212  2.233031e+10  8.484657e+08  1.849255e+10  ...  1.563217e+10   \n","242  6.845503e+08  0.000000e+00  5.619356e+08  ...  6.957960e+07   \n","258           NaN           NaN           NaN  ...           NaN   \n","263  3.007769e+09  1.197756e+09  2.258240e+09  ...  1.883430e+09   \n","285  9.618709e+09  0.000000e+00  9.751211e+09  ...  4.416916e+09   \n","298  0.000000e+00  0.000000e+00  5.479428e+07  ...  6.370097e+09   \n","299  2.116892e+09  2.681748e+08  3.286245e+09  ...  6.392336e+08   \n","303  2.326031e+10  2.542571e+09  2.308749e+10  ...  0.000000e+00   \n","321  1.351696e+10  2.469251e+09  1.072392e+10  ...  0.000000e+00   \n","323  3.207567e+09  2.656878e+07  3.242981e+09  ...  2.481421e+10   \n","353  2.179021e+09  3.122066e+08  1.507567e+09  ...  0.000000e+00   \n","383  1.010181e+10  1.776295e+09  8.380210e+09  ...  2.955340e+09   \n","384  2.326750e+09  3.999708e+08  3.083860e+09  ...  3.581086e+09   \n","389  1.904012e+10  1.809687e+09  1.863099e+10  ...  5.748525e+07   \n","394  2.846454e+09  0.000000e+00  2.975635e+09  ...  1.902391e+09   \n","400  3.944159e+07  1.835644e+06  1.139939e+08  ...  2.013338e+09   \n","405  8.724619e+08  0.000000e+00  7.972936e+08  ...  0.000000e+00   \n","413  1.061103e+07  0.000000e+00  8.800000e+03  ...  0.000000e+00   \n","414  1.061103e+07  0.000000e+00  8.800000e+03  ...  0.000000e+00   \n","423  2.233031e+10  8.484657e+08  1.849255e+10  ...  1.563217e+10   \n","425  1.424266e+10  1.726174e+09  1.148722e+10  ...  0.000000e+00   \n","427  1.092444e+10  1.168731e+09  8.709839e+09  ...  0.000000e+00   \n","\n","     liquidLiabilities2    shortLoan2  NCLiabilities2     longLoan2  \\\n","48         5.956278e+09  4.992758e+09    2.000000e+06  0.000000e+00   \n","60                  NaN           NaN             NaN           NaN   \n","62         0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","93         1.406195e+08  0.000000e+00    2.590000e+09  2.590000e+09   \n","206        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","212        1.288180e+10  0.000000e+00    2.750371e+09  0.000000e+00   \n","242        6.920960e+07  0.000000e+00    3.700000e+05  0.000000e+00   \n","258                 NaN           NaN             NaN           NaN   \n","263        5.315201e+08  2.000000e+08    1.351910e+09  1.201910e+09   \n","285        1.524426e+09  0.000000e+00    2.892490e+09  5.462400e+08   \n","298        2.170973e+09  0.000000e+00    4.199124e+09  2.498749e+09   \n","299        6.400000e+09  0.000000e+00    0.000000e+00  0.000000e+00   \n","303        2.777589e+10  2.182278e+10    0.000000e+00  0.000000e+00   \n","321        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","323        8.077364e+09  0.000000e+00    1.673685e+10  1.028108e+10   \n","353        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","383        1.137546e+09  3.324171e+08    1.817795e+09  1.717795e+09   \n","384        4.810858e+08  1.179473e+08    3.100000e+09  3.100000e+09   \n","389        1.047008e+09  0.000000e+00    0.000000e+00  0.000000e+00   \n","394        1.902391e+09  1.649457e+09    0.000000e+00  0.000000e+00   \n","400        1.283379e+08  0.000000e+00    1.890000e+09  1.890000e+09   \n","405        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","413        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","414        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","423        1.288180e+10  0.000000e+00    2.750371e+09  0.000000e+00   \n","425        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","427        0.000000e+00  0.000000e+00    0.000000e+00  0.000000e+00   \n","\n","        netAsset2      surplus2  employee1  employee2  ownerChange  \n","48   3.625952e+09  0.000000e+00        NaN        NaN          NaN  \n","60            NaN           NaN        NaN        NaN          NaN  \n","62   0.000000e+00  0.000000e+00       38.0       38.0          NaN  \n","93   3.752184e+09  0.000000e+00        NaN        NaN          NaN  \n","206  0.000000e+00  0.000000e+00        NaN      103.0          NaN  \n","212  1.384958e+10  0.000000e+00        NaN        NaN          NaN  \n","242  1.900197e+09  0.000000e+00        NaN        NaN          NaN  \n","258           NaN           NaN        NaN        NaN          NaN  \n","263  1.017573e+09  2.261974e+08        NaN        NaN          NaN  \n","285  4.902827e+09  0.000000e+00        NaN        NaN          NaN  \n","298  3.259161e+09  0.000000e+00        NaN        NaN          NaN  \n","299  0.000000e+00  0.000000e+00      100.0      100.0          NaN  \n","303  0.000000e+00  1.638540e+10        NaN        NaN          NaN  \n","321  0.000000e+00  0.000000e+00      150.0      150.0          NaN  \n","323  1.624724e+10  0.000000e+00        NaN        NaN          NaN  \n","353  0.000000e+00  0.000000e+00        NaN        NaN          NaN  \n","383  6.597855e+09  9.530310e+06      116.0      116.0          NaN  \n","384  5.617398e+09  0.000000e+00       37.0       37.0          NaN  \n","389  9.710253e+08  4.209770e+09        NaN        NaN          NaN  \n","394  1.442102e+09  3.973488e+08        NaN        NaN          NaN  \n","400  1.963282e+09  0.000000e+00       32.0       32.0          NaN  \n","405  0.000000e+00  0.000000e+00       61.0       61.0          NaN  \n","413  0.000000e+00  0.000000e+00       36.0       36.0          NaN  \n","414  0.000000e+00  0.000000e+00       36.0       36.0          NaN  \n","423  1.384958e+10  0.000000e+00      560.0      560.0          NaN  \n","425  0.000000e+00  0.000000e+00        NaN        NaN          NaN  \n","427  0.000000e+00  0.000000e+00        NaN        NaN          NaN  \n","\n","[27 rows x 58 columns]"],"text/html":["\n","  <div id=\"df-b08cef8b-72ff-480a-944e-b9793a351a0d\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>48</th>\n","      <td>74</td>\n","      <td>open</td>\n","      <td>seoul</td>\n","      <td>1</td>\n","      <td>19940425</td>\n","      <td>28.0</td>\n","      <td>traditional_hospital</td>\n","      <td>8.872427e+09</td>\n","      <td>9.641249e+08</td>\n","      <td>7.638920e+09</td>\n","      <td>...</td>\n","      <td>5.958278e+09</td>\n","      <td>5.956278e+09</td>\n","      <td>4.992758e+09</td>\n","      <td>2.000000e+06</td>\n","      <td>0.000000e+00</td>\n","      <td>3.625952e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>60</th>\n","      <td>94</td>\n","      <td>open</td>\n","      <td>gangwon</td>\n","      <td>128</td>\n","      <td>20031201</td>\n","      <td>244.0</td>\n","      <td>nursing_hospital</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>...</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>62</th>\n","      <td>96</td>\n","      <td>open</td>\n","      <td>busan</td>\n","      <td>64</td>\n","      <td>20170602</td>\n","      <td>128.0</td>\n","      <td>nursing_hospital</td>\n","      <td>5.236406e+08</td>\n","      <td>2.306773e+07</td>\n","      <td>8.355775e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>38.0</td>\n","      <td>38.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>93</th>\n","      <td>140</td>\n","      <td>close</td>\n","      <td>gyeongbuk</td>\n","      <td>114</td>\n","      <td>20070420</td>\n","      <td>203.0</td>\n","      <td>hospital</td>\n","      <td>5.423357e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>5.212041e+09</td>\n","      <td>...</td>\n","      <td>2.733619e+09</td>\n","      <td>1.406195e+08</td>\n","      <td>0.000000e+00</td>\n","      <td>2.590000e+09</td>\n","      <td>2.590000e+09</td>\n","      <td>3.752184e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>206</th>\n","      <td>298</td>\n","      <td>open</td>\n","      <td>gyeongnam</td>\n","      <td>32</td>\n","      <td>20170120</td>\n","      <td>160.0</td>\n","      <td>nursing_hospital</td>\n","      <td>3.279139e+09</td>\n","      <td>3.726966e+08</td>\n","      <td>3.507972e+09</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>103.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>212</th>\n","      <td>306</td>\n","      <td>close</td>\n","      <td>jeonnam</td>\n","      <td>33</td>\n","      <td>19990603</td>\n","      <td>66.0</td>\n","      <td>nursing_hospital</td>\n","      <td>2.233031e+10</td>\n","      <td>8.484657e+08</td>\n","      <td>1.849255e+10</td>\n","      <td>...</td>\n","      <td>1.563217e+10</td>\n","      <td>1.288180e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>2.750371e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>1.384958e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>242</th>\n","      <td>345</td>\n","      <td>open</td>\n","      <td>busan</td>\n","      <td>69</td>\n","      <td>20170420</td>\n","      <td>0.0</td>\n","      <td>traditional_clinic</td>\n","      <td>6.845503e+08</td>\n","      <td>0.000000e+00</td>\n","      <td>5.619356e+08</td>\n","      <td>...</td>\n","      <td>6.957960e+07</td>\n","      <td>6.920960e+07</td>\n","      <td>0.000000e+00</td>\n","      <td>3.700000e+05</td>\n","      <td>0.000000e+00</td>\n","      <td>1.900197e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>258</th>\n","      <td>363</td>\n","      <td>open</td>\n","      <td>gyeongbuk</td>\n","      <td>95</td>\n","      <td>20141219</td>\n","      <td>0.0</td>\n","      <td>clinic</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>...</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>263</th>\n","      <td>369</td>\n","      <td>open</td>\n","      <td>gangwon</td>\n","      <td>100</td>\n","      <td>20020123</td>\n","      <td>39.0</td>\n","      <td>hospital</td>\n","      <td>3.007769e+09</td>\n","      <td>1.197756e+09</td>\n","      <td>2.258240e+09</td>\n","      <td>...</td>\n","      <td>1.883430e+09</td>\n","      <td>5.315201e+08</td>\n","      <td>2.000000e+08</td>\n","      <td>1.351910e+09</td>\n","      <td>1.201910e+09</td>\n","      <td>1.017573e+09</td>\n","      <td>2.261974e+08</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>285</th>\n","      <td>407</td>\n","      <td>open</td>\n","      <td>gyeongbuk</td>\n","      <td>160</td>\n","      <td>19881104</td>\n","      <td>119.0</td>\n","      <td>hospital</td>\n","      <td>9.618709e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>9.751211e+09</td>\n","      <td>...</td>\n","      <td>4.416916e+09</td>\n","      <td>1.524426e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>2.892490e+09</td>\n","      <td>5.462400e+08</td>\n","      <td>4.902827e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>298</th>\n","      <td>426</td>\n","      <td>close</td>\n","      <td>gyeongbuk</td>\n","      <td>107</td>\n","      <td>19830705</td>\n","      <td>NaN</td>\n","      <td>hospital</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>5.479428e+07</td>\n","      <td>...</td>\n","      <td>6.370097e+09</td>\n","      <td>2.170973e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>4.199124e+09</td>\n","      <td>2.498749e+09</td>\n","      <td>3.259161e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>299</th>\n","      <td>427</td>\n","      <td>close</td>\n","      <td>gyeonggi</td>\n","      <td>169</td>\n","      <td>20070101</td>\n","      <td>180.0</td>\n","      <td>nursing_hospital</td>\n","      <td>2.116892e+09</td>\n","      <td>2.681748e+08</td>\n","      <td>3.286245e+09</td>\n","      <td>...</td>\n","      <td>6.392336e+08</td>\n","      <td>6.400000e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>100.0</td>\n","      <td>100.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>303</th>\n","      <td>6</td>\n","      <td>NaN</td>\n","      <td>jeonnam</td>\n","      <td>103</td>\n","      <td>19890427</td>\n","      <td>276.0</td>\n","      <td>general_hospital</td>\n","      <td>2.326031e+10</td>\n","      <td>2.542571e+09</td>\n","      <td>2.308749e+10</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>2.777589e+10</td>\n","      <td>2.182278e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>1.638540e+10</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>321</th>\n","      <td>48</td>\n","      <td>NaN</td>\n","      <td>daegu</td>\n","      <td>40</td>\n","      <td>19970228</td>\n","      <td>154.0</td>\n","      <td>hospital</td>\n","      <td>1.351696e+10</td>\n","      <td>2.469251e+09</td>\n","      <td>1.072392e+10</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>150.0</td>\n","      <td>150.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>323</th>\n","      <td>64</td>\n","      <td>NaN</td>\n","      <td>jeonbuk</td>\n","      <td>34</td>\n","      <td>20060629</td>\n","      <td>NaN</td>\n","      <td>hospital</td>\n","      <td>3.207567e+09</td>\n","      <td>2.656878e+07</td>\n","      <td>3.242981e+09</td>\n","      <td>...</td>\n","      <td>2.481421e+10</td>\n","      <td>8.077364e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>1.673685e+10</td>\n","      <td>1.028108e+10</td>\n","      <td>1.624724e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>353</th>\n","      <td>165</td>\n","      <td>NaN</td>\n","      <td>jeonbuk</td>\n","      <td>136</td>\n","      <td>20050321</td>\n","      <td>440.0</td>\n","      <td>nursing_hospital</td>\n","      <td>2.179021e+09</td>\n","      <td>3.122066e+08</td>\n","      <td>1.507567e+09</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>383</th>\n","      <td>246</td>\n","      <td>NaN</td>\n","      <td>jeonnam</td>\n","      <td>145</td>\n","      <td>19880801</td>\n","      <td>191.0</td>\n","      <td>general_hospital</td>\n","      <td>1.010181e+10</td>\n","      <td>1.776295e+09</td>\n","      <td>8.380210e+09</td>\n","      <td>...</td>\n","      <td>2.955340e+09</td>\n","      <td>1.137546e+09</td>\n","      <td>3.324171e+08</td>\n","      <td>1.817795e+09</td>\n","      <td>1.717795e+09</td>\n","      <td>6.597855e+09</td>\n","      <td>9.530310e+06</td>\n","      <td>116.0</td>\n","      <td>116.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>384</th>\n","      <td>254</td>\n","      <td>NaN</td>\n","      <td>choongbuk</td>\n","      <td>152</td>\n","      <td>20150124</td>\n","      <td>60.0</td>\n","      <td>hospital</td>\n","      <td>2.326750e+09</td>\n","      <td>3.999708e+08</td>\n","      <td>3.083860e+09</td>\n","      <td>...</td>\n","      <td>3.581086e+09</td>\n","      <td>4.810858e+08</td>\n","      <td>1.179473e+08</td>\n","      <td>3.100000e+09</td>\n","      <td>3.100000e+09</td>\n","      <td>5.617398e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>37.0</td>\n","      <td>37.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>389</th>\n","      <td>293</td>\n","      <td>NaN</td>\n","      <td>jeonbuk</td>\n","      <td>26</td>\n","      <td>20050503</td>\n","      <td>124.0</td>\n","      <td>nursing_hospital</td>\n","      <td>1.904012e+10</td>\n","      <td>1.809687e+09</td>\n","      <td>1.863099e+10</td>\n","      <td>...</td>\n","      <td>5.748525e+07</td>\n","      <td>1.047008e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>9.710253e+08</td>\n","      <td>4.209770e+09</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>394</th>\n","      <td>310</td>\n","      <td>NaN</td>\n","      <td>seoul</td>\n","      <td>36</td>\n","      <td>20100531</td>\n","      <td>104.0</td>\n","      <td>nursing_hospital</td>\n","      <td>2.846454e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>2.975635e+09</td>\n","      <td>...</td>\n","      <td>1.902391e+09</td>\n","      <td>1.902391e+09</td>\n","      <td>1.649457e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>1.442102e+09</td>\n","      <td>3.973488e+08</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>400</th>\n","      <td>341</td>\n","      <td>NaN</td>\n","      <td>busan</td>\n","      <td>66</td>\n","      <td>20100226</td>\n","      <td>NaN</td>\n","      <td>nursing_hospital</td>\n","      <td>3.944159e+07</td>\n","      <td>1.835644e+06</td>\n","      <td>1.139939e+08</td>\n","      <td>...</td>\n","      <td>2.013338e+09</td>\n","      <td>1.283379e+08</td>\n","      <td>0.000000e+00</td>\n","      <td>1.890000e+09</td>\n","      <td>1.890000e+09</td>\n","      <td>1.963282e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>32.0</td>\n","      <td>32.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>405</th>\n","      <td>374</td>\n","      <td>NaN</td>\n","      <td>gyeongbuk</td>\n","      <td>107</td>\n","      <td>20120618</td>\n","      <td>142.0</td>\n","      <td>nursing_hospital</td>\n","      <td>8.724619e+08</td>\n","      <td>0.000000e+00</td>\n","      <td>7.972936e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>61.0</td>\n","      <td>61.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>413</th>\n","      <td>395</td>\n","      <td>NaN</td>\n","      <td>jeonbuk</td>\n","      <td>143</td>\n","      <td>20161229</td>\n","      <td>156.0</td>\n","      <td>nursing_hospital</td>\n","      <td>1.061103e+07</td>\n","      <td>0.000000e+00</td>\n","      <td>8.800000e+03</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>36.0</td>\n","      <td>36.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>414</th>\n","      <td>396</td>\n","      <td>NaN</td>\n","      <td>jeonbuk</td>\n","      <td>143</td>\n","      <td>20161229</td>\n","      <td>156.0</td>\n","      <td>nursing_hospital</td>\n","      <td>1.061103e+07</td>\n","      <td>0.000000e+00</td>\n","      <td>8.800000e+03</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>36.0</td>\n","      <td>36.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>423</th>\n","      <td>424</td>\n","      <td>NaN</td>\n","      <td>jeonnam</td>\n","      <td>33</td>\n","      <td>20011012</td>\n","      <td>0.0</td>\n","      <td>traditional_clinic</td>\n","      <td>2.233031e+10</td>\n","      <td>8.484657e+08</td>\n","      <td>1.849255e+10</td>\n","      <td>...</td>\n","      <td>1.563217e+10</td>\n","      <td>1.288180e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>2.750371e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>1.384958e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>560.0</td>\n","      <td>560.0</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>425</th>\n","      <td>429</td>\n","      <td>NaN</td>\n","      <td>gyeonggi</td>\n","      <td>116</td>\n","      <td>20010101</td>\n","      <td>150.0</td>\n","      <td>hospital</td>\n","      <td>1.424266e+10</td>\n","      <td>1.726174e+09</td>\n","      <td>1.148722e+10</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","    <tr>\n","      <th>427</th>\n","      <td>431</td>\n","      <td>NaN</td>\n","      <td>choongbuk</td>\n","      <td>163</td>\n","      <td>19961216</td>\n","      <td>96.0</td>\n","      <td>hospital</td>\n","      <td>1.092444e+10</td>\n","      <td>1.168731e+09</td>\n","      <td>8.709839e+09</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>27 rows × 58 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-b08cef8b-72ff-480a-944e-b9793a351a0d')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-b08cef8b-72ff-480a-944e-b9793a351a0d button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-b08cef8b-72ff-480a-944e-b9793a351a0d');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["# 결측치 다수존재, 유지\n","display(data[data['ownerChange'].isnull()])"]},{"cell_type":"markdown","id":"c8f69ae1","metadata":{"id":"c8f69ae1"},"source":["---\n","- 'instkind'의 클래스 개수를 확인한 결과, 일반적으로 dental_clininc, traditional_clinic, traditional_hospital 제거 후보가 됩니다.\n","- dental_clinic의 경우 1개가 존재하고 학습데이터에만 존재합니다. 제거합니다.\n","- null값은 학습데이터에 1개가 존재하며, close입니다. 유지합니다.\n","- traditional_clinic, traditional_hospital은 EDA에서 폐업률의 순위가 1,2위 입니다. 유지합니다."]},{"cell_type":"code","execution_count":null,"id":"53c7b412","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"53c7b412","outputId":"489081ad-dd77-46a4-9c7e-cfad25e33897"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["nursing_hospital        207\n","hospital                124\n","general_hospital         56\n","clinic                   22\n","traditional_hospital      9\n","traditional_clinic        6\n","dental_clinic             1\n","Name: instkind, dtype: int64"]},"metadata":{},"execution_count":34}],"source":["data['instkind'].value_counts()"]},{"cell_type":"code","execution_count":null,"id":"-fxtK16i_pm_","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":237},"id":"-fxtK16i_pm_","outputId":"766b2d3e-a8c2-4601-fe4e-f92a2d0b08ab"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     inst_id     OC      sido  sgg  openDate  bedCount instkind      revenue1  \\\n","193      281  close  gyeonggi   12  20121213       NaN      NaN  3.054388e+08   \n","421      413    NaN  gyeonggi  168        -1      49.0      NaN  5.583625e+08   \n","426      430    NaN      jeju   76  20010201       NaN      NaN  4.892710e+10   \n","\n","       salescost1          sga1  ...         debt2  liquidLiabilities2  \\\n","193  2.241614e+07  4.674753e+08  ...  0.000000e+00        0.000000e+00   \n","421  7.443415e+07  5.482900e+08  ...  0.000000e+00        0.000000e+00   \n","426  4.157148e+10  4.721485e+09  ...  3.720397e+10        8.485918e+09   \n","\n","     shortLoan2  NCLiabilities2     longLoan2    netAsset2  surplus2  \\\n","193         0.0    0.000000e+00  0.000000e+00          0.0       0.0   \n","421         0.0    0.000000e+00  0.000000e+00          0.0       0.0   \n","426         0.0    2.871805e+10  2.563120e+10 -205062936.0       0.0   \n","\n","     employee1  employee2  ownerChange  \n","193       15.0       15.0       change  \n","421       21.0       21.0         same  \n","426      363.0      343.0         same  \n","\n","[3 rows x 58 columns]"],"text/html":["\n","  <div id=\"df-e2422cf4-cf96-49b8-b7ae-0e1810ce8713\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>193</th>\n","      <td>281</td>\n","      <td>close</td>\n","      <td>gyeonggi</td>\n","      <td>12</td>\n","      <td>20121213</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>3.054388e+08</td>\n","      <td>2.241614e+07</td>\n","      <td>4.674753e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.0</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>15.0</td>\n","      <td>15.0</td>\n","      <td>change</td>\n","    </tr>\n","    <tr>\n","      <th>421</th>\n","      <td>413</td>\n","      <td>NaN</td>\n","      <td>gyeonggi</td>\n","      <td>168</td>\n","      <td>-1</td>\n","      <td>49.0</td>\n","      <td>NaN</td>\n","      <td>5.583625e+08</td>\n","      <td>7.443415e+07</td>\n","      <td>5.482900e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.0</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>21.0</td>\n","      <td>21.0</td>\n","      <td>same</td>\n","    </tr>\n","    <tr>\n","      <th>426</th>\n","      <td>430</td>\n","      <td>NaN</td>\n","      <td>jeju</td>\n","      <td>76</td>\n","      <td>20010201</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>4.892710e+10</td>\n","      <td>4.157148e+10</td>\n","      <td>4.721485e+09</td>\n","      <td>...</td>\n","      <td>3.720397e+10</td>\n","      <td>8.485918e+09</td>\n","      <td>0.0</td>\n","      <td>2.871805e+10</td>\n","      <td>2.563120e+10</td>\n","      <td>-205062936.0</td>\n","      <td>0.0</td>\n","      <td>363.0</td>\n","      <td>343.0</td>\n","      <td>same</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>3 rows × 58 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-e2422cf4-cf96-49b8-b7ae-0e1810ce8713')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-e2422cf4-cf96-49b8-b7ae-0e1810ce8713 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-e2422cf4-cf96-49b8-b7ae-0e1810ce8713');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":35}],"source":["# 결측치 소수 존재, 유지\n","data[data['instkind'].isnull()]"]},{"cell_type":"code","execution_count":null,"id":"7ec9087e","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":192},"id":"7ec9087e","outputId":"00c49b14-606c-4e6c-95ec-1743f9a6597c"},"outputs":[{"output_type":"display_data","data":{"text/plain":["'치과의원'"],"application/vnd.google.colaboratory.intrinsic+json":{"type":"string"}},"metadata":{}},{"output_type":"display_data","data":{"text/plain":["    inst_id    OC   sido  sgg  openDate  bedCount       instkind  \\\n","73      109  open  seoul   79  20120501       0.0  dental_clinic   \n","\n","        revenue1    salescost1          sga1  ...         debt2  \\\n","73  1.547254e+10  9.405841e+09  5.046173e+09  ...  1.285480e+10   \n","\n","    liquidLiabilities2    shortLoan2  NCLiabilities2     longLoan2  \\\n","73        5.736049e+09  2.361425e+09    7.118755e+09  7.118755e+09   \n","\n","       netAsset2  surplus2  employee1  employee2  ownerChange  \n","73  5.762838e+09       0.0      107.0      109.0         same  \n","\n","[1 rows x 58 columns]"],"text/html":["\n","  <div id=\"df-2a6c507d-021f-4780-ac67-c730b90bc9ed\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>73</th>\n","      <td>109</td>\n","      <td>open</td>\n","      <td>seoul</td>\n","      <td>79</td>\n","      <td>20120501</td>\n","      <td>0.0</td>\n","      <td>dental_clinic</td>\n","      <td>1.547254e+10</td>\n","      <td>9.405841e+09</td>\n","      <td>5.046173e+09</td>\n","      <td>...</td>\n","      <td>1.285480e+10</td>\n","      <td>5.736049e+09</td>\n","      <td>2.361425e+09</td>\n","      <td>7.118755e+09</td>\n","      <td>7.118755e+09</td>\n","      <td>5.762838e+09</td>\n","      <td>0.0</td>\n","      <td>107.0</td>\n","      <td>109.0</td>\n","      <td>same</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>1 rows × 58 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-2a6c507d-021f-4780-ac67-c730b90bc9ed')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-2a6c507d-021f-4780-ac67-c730b90bc9ed button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-2a6c507d-021f-4780-ac67-c730b90bc9ed');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["# drop(): 데이터프레임의 특정 행, 열을 지정하여 삭제하는 함수입니다. \n","\n","display('치과의원')\n","display(data[data['instkind']=='dental_clinic'])\n","data.drop(data[data['instkind']=='dental_clinic'].index, inplace=True)\n","train.drop(train[train['instkind']=='dental_clinic'].index, inplace=True) # train에만 존재"]},{"cell_type":"markdown","id":"a1c2b26c","metadata":{"id":"a1c2b26c"},"source":["---\n","- 'sido'의 클래스 개수를 확인한 결과, jeju, gwangju, sejong이 제거 후보가 됩니다.\n","- jeju의 경우 모두 평가데이터 입니다. 유지합니다.\n","- gwangju의 경우 모두 학습데이터 입니다. 제거합니다.\n","- sejong의 경우 평가데이터 1, 학습데이터 1 입니다. 유지합니다."]},{"cell_type":"code","execution_count":null,"id":"e96b7f4f","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":347},"id":"e96b7f4f","outputId":"20af099f-00d3-4886-d7c0-d8dbe5017302"},"outputs":[{"output_type":"display_data","data":{"text/plain":["gyeonggi     68\n","gyeongbuk    58\n","gyeongnam    46\n","busan        43\n","jeonbuk      31\n","choongnam    30\n","jeonnam      29\n","seoul        26\n","choongbuk    21\n","daegu        17\n","daejeon      14\n","incheon      14\n","ulsan        13\n","gangwon      10\n","jeju          3\n","gwangju       2\n","sejong        2\n","Name: sido, dtype: int64"]},"metadata":{}}],"source":["display(data['sido'].value_counts())"]},{"cell_type":"code","execution_count":null,"id":"cfe6ea30","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":486},"id":"cfe6ea30","outputId":"32f1c0f0-d76d-414f-cb0d-8de73b0fb697"},"outputs":[{"output_type":"display_data","data":{"text/plain":["     inst_id   OC  sido  sgg  openDate  bedCount          instkind  \\\n","302        5  NaN  jeju  149  20160309      44.0          hospital   \n","416      398  NaN  jeju  149  20070912      13.0  nursing_hospital   \n","426      430  NaN  jeju   76  20010201       NaN               NaN   \n","\n","         revenue1    salescost1          sga1  ...         debt2  \\\n","302  3.495758e+10  0.000000e+00  3.259270e+10  ...  6.730838e+10   \n","416  7.492834e+09  0.000000e+00  6.547070e+09  ...  6.934269e+09   \n","426  4.892710e+10  4.157148e+10  4.721485e+09  ...  3.720397e+10   \n","\n","     liquidLiabilities2    shortLoan2  NCLiabilities2     longLoan2  \\\n","302        4.209828e+10  2.420000e+10    2.521009e+10  1.830000e+10   \n","416        4.767853e+08  0.000000e+00    6.457484e+09  5.786636e+09   \n","426        8.485918e+09  0.000000e+00    2.871805e+10  2.563120e+10   \n","\n","        netAsset2  surplus2  employee1  employee2  ownerChange  \n","302  3.789135e+09       0.0      379.0      371.0         same  \n","416  3.217245e+09       0.0       66.0       68.0         same  \n","426 -2.050629e+08       0.0      363.0      343.0         same  \n","\n","[3 rows x 58 columns]"],"text/html":["\n","  <div id=\"df-433f1a86-17a4-4649-a05b-ab751761ed58\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>302</th>\n","      <td>5</td>\n","      <td>NaN</td>\n","      <td>jeju</td>\n","      <td>149</td>\n","      <td>20160309</td>\n","      <td>44.0</td>\n","      <td>hospital</td>\n","      <td>3.495758e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>3.259270e+10</td>\n","      <td>...</td>\n","      <td>6.730838e+10</td>\n","      <td>4.209828e+10</td>\n","      <td>2.420000e+10</td>\n","      <td>2.521009e+10</td>\n","      <td>1.830000e+10</td>\n","      <td>3.789135e+09</td>\n","      <td>0.0</td>\n","      <td>379.0</td>\n","      <td>371.0</td>\n","      <td>same</td>\n","    </tr>\n","    <tr>\n","      <th>416</th>\n","      <td>398</td>\n","      <td>NaN</td>\n","      <td>jeju</td>\n","      <td>149</td>\n","      <td>20070912</td>\n","      <td>13.0</td>\n","      <td>nursing_hospital</td>\n","      <td>7.492834e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>6.547070e+09</td>\n","      <td>...</td>\n","      <td>6.934269e+09</td>\n","      <td>4.767853e+08</td>\n","      <td>0.000000e+00</td>\n","      <td>6.457484e+09</td>\n","      <td>5.786636e+09</td>\n","      <td>3.217245e+09</td>\n","      <td>0.0</td>\n","      <td>66.0</td>\n","      <td>68.0</td>\n","      <td>same</td>\n","    </tr>\n","    <tr>\n","      <th>426</th>\n","      <td>430</td>\n","      <td>NaN</td>\n","      <td>jeju</td>\n","      <td>76</td>\n","      <td>20010201</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>4.892710e+10</td>\n","      <td>4.157148e+10</td>\n","      <td>4.721485e+09</td>\n","      <td>...</td>\n","      <td>3.720397e+10</td>\n","      <td>8.485918e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>2.871805e+10</td>\n","      <td>2.563120e+10</td>\n","      <td>-2.050629e+08</td>\n","      <td>0.0</td>\n","      <td>363.0</td>\n","      <td>343.0</td>\n","      <td>same</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>3 rows × 58 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-433f1a86-17a4-4649-a05b-ab751761ed58')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-433f1a86-17a4-4649-a05b-ab751761ed58 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-433f1a86-17a4-4649-a05b-ab751761ed58');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}},{"output_type":"display_data","data":{"text/plain":["     inst_id    OC     sido  sgg  openDate  bedCount          instkind  \\\n","200      289  open  gwangju   20  20140915      96.0  nursing_hospital   \n","201      290  open  gwangju   21  20080917     184.0          hospital   \n","\n","         revenue1    salescost1          sga1  ...         debt2  \\\n","200  4.811244e+09  1.392799e+09  3.499457e+09  ...  5.088399e+09   \n","201  1.327925e+10  0.000000e+00  1.334302e+10  ...  4.829293e+09   \n","\n","     liquidLiabilities2  shortLoan2  NCLiabilities2     longLoan2  \\\n","200        7.842774e+08         0.0    4.304122e+09  4.119400e+09   \n","201        2.743760e+09         0.0    2.085533e+09  1.860000e+09   \n","\n","        netAsset2      surplus2  employee1  employee2  ownerChange  \n","200  5.930629e+08 -2.667528e+09       56.0       56.0       change  \n","201  4.794452e+09 -2.201147e+08      248.0      231.0         same  \n","\n","[2 rows x 58 columns]"],"text/html":["\n","  <div id=\"df-a0e26304-5b4e-4118-8b42-c1989148b23e\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>200</th>\n","      <td>289</td>\n","      <td>open</td>\n","      <td>gwangju</td>\n","      <td>20</td>\n","      <td>20140915</td>\n","      <td>96.0</td>\n","      <td>nursing_hospital</td>\n","      <td>4.811244e+09</td>\n","      <td>1.392799e+09</td>\n","      <td>3.499457e+09</td>\n","      <td>...</td>\n","      <td>5.088399e+09</td>\n","      <td>7.842774e+08</td>\n","      <td>0.0</td>\n","      <td>4.304122e+09</td>\n","      <td>4.119400e+09</td>\n","      <td>5.930629e+08</td>\n","      <td>-2.667528e+09</td>\n","      <td>56.0</td>\n","      <td>56.0</td>\n","      <td>change</td>\n","    </tr>\n","    <tr>\n","      <th>201</th>\n","      <td>290</td>\n","      <td>open</td>\n","      <td>gwangju</td>\n","      <td>21</td>\n","      <td>20080917</td>\n","      <td>184.0</td>\n","      <td>hospital</td>\n","      <td>1.327925e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>1.334302e+10</td>\n","      <td>...</td>\n","      <td>4.829293e+09</td>\n","      <td>2.743760e+09</td>\n","      <td>0.0</td>\n","      <td>2.085533e+09</td>\n","      <td>1.860000e+09</td>\n","      <td>4.794452e+09</td>\n","      <td>-2.201147e+08</td>\n","      <td>248.0</td>\n","      <td>231.0</td>\n","      <td>same</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2 rows × 58 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a0e26304-5b4e-4118-8b42-c1989148b23e')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-a0e26304-5b4e-4118-8b42-c1989148b23e button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-a0e26304-5b4e-4118-8b42-c1989148b23e');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}},{"output_type":"display_data","data":{"text/plain":["     inst_id    OC    sido  sgg  openDate  bedCount          instkind  \\\n","250      355  open  sejong   85  20050223     180.0  nursing_hospital   \n","367      207   NaN  sejong   85  20121005      12.0  nursing_hospital   \n","\n","         revenue1  salescost1          sga1  ...         debt2  \\\n","250  4.629582e+09         0.0  4.454415e+09  ...  4.393198e+09   \n","367  2.224270e+09  91157130.0  1.698292e+09  ...  2.748967e+09   \n","\n","     liquidLiabilities2   shortLoan2  NCLiabilities2     longLoan2  \\\n","250         695198485.0          0.0    3.700000e+09  3.450000e+09   \n","367         971800629.0  574699732.0    1.777167e+09  1.777167e+09   \n","\n","        netAsset2      surplus2  employee1  employee2  ownerChange  \n","250  7.559580e+09  7.559580e+09       73.0       75.0       change  \n","367  3.083064e+09  3.105658e+08       30.0       30.0         same  \n","\n","[2 rows x 58 columns]"],"text/html":["\n","  <div id=\"df-27c9a31e-f324-424f-9306-9dc08cc75a12\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>250</th>\n","      <td>355</td>\n","      <td>open</td>\n","      <td>sejong</td>\n","      <td>85</td>\n","      <td>20050223</td>\n","      <td>180.0</td>\n","      <td>nursing_hospital</td>\n","      <td>4.629582e+09</td>\n","      <td>0.0</td>\n","      <td>4.454415e+09</td>\n","      <td>...</td>\n","      <td>4.393198e+09</td>\n","      <td>695198485.0</td>\n","      <td>0.0</td>\n","      <td>3.700000e+09</td>\n","      <td>3.450000e+09</td>\n","      <td>7.559580e+09</td>\n","      <td>7.559580e+09</td>\n","      <td>73.0</td>\n","      <td>75.0</td>\n","      <td>change</td>\n","    </tr>\n","    <tr>\n","      <th>367</th>\n","      <td>207</td>\n","      <td>NaN</td>\n","      <td>sejong</td>\n","      <td>85</td>\n","      <td>20121005</td>\n","      <td>12.0</td>\n","      <td>nursing_hospital</td>\n","      <td>2.224270e+09</td>\n","      <td>91157130.0</td>\n","      <td>1.698292e+09</td>\n","      <td>...</td>\n","      <td>2.748967e+09</td>\n","      <td>971800629.0</td>\n","      <td>574699732.0</td>\n","      <td>1.777167e+09</td>\n","      <td>1.777167e+09</td>\n","      <td>3.083064e+09</td>\n","      <td>3.105658e+08</td>\n","      <td>30.0</td>\n","      <td>30.0</td>\n","      <td>same</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>2 rows × 58 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-27c9a31e-f324-424f-9306-9dc08cc75a12')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-27c9a31e-f324-424f-9306-9dc08cc75a12 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-27c9a31e-f324-424f-9306-9dc08cc75a12');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["display(data[data['sido']=='jeju'])\n","display(data[data['sido']=='gwangju'])\n","display(data[data['sido']=='sejong'])"]},{"cell_type":"code","execution_count":null,"id":"44c2948b","metadata":{"id":"44c2948b"},"outputs":[],"source":["data.drop(data[data['sido']=='gwangju'].index, inplace=True)\n","train.drop(train[train['sido']=='gwangju'].index, inplace=True) # train에만 존재"]},{"cell_type":"markdown","id":"_PakJY0Bw5rk","metadata":{"id":"_PakJY0Bw5rk"},"source":["#### 2-2. 수치형 데이터\n","\n","EDA를 통해 소수의 이상치를 발견하였으나, 데이터셋의 크기를 고려하여 **제거하지 않았습니다.**\n","\n","이를 보완하기 위해서 이상치에 민감하지 않은 **Robust Scaler**를 사용했습니다."]},{"cell_type":"markdown","id":"91a7b069","metadata":{"id":"91a7b069"},"source":["### 3.파생변수\n","\n","파생변수란 분석과정에서 발견되는 특정 변수들 간에 관계를 조합하여, 새로운 변수를 만들어내는 매우 주관적인 변수입니다. 그렇기 때문에 대표성과 객관성에 유의하여야 하며, 논리적 타당성이 요구됩니다. \n","\n","1. 저희팀은 기존의 openDate 행의 년, 월, 일을 쪼개는 과정을 진행했습니다.\n","2. EDA에서 관계성을 발견하여 shortLoan의 증감율과 longLoan의 증감율을 이용한 loanRate 변수를 생성했습니다. "]},{"cell_type":"code","execution_count":null,"id":"ZwMKdgyOGzqq","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":174},"id":"ZwMKdgyOGzqq","outputId":"940fd462-55ce-4754-f623-8f1e87d41ba1"},"outputs":[{"output_type":"display_data","data":{"text/plain":["     inst_id   OC      sido  sgg  openDate  bedCount instkind     revenue1  \\\n","421      413  NaN  gyeonggi  168        -1      49.0      NaN  558362470.0   \n","\n","     salescost1         sga1  ...  debt2  liquidLiabilities2  shortLoan2  \\\n","421  74434148.0  548290004.0  ...    0.0                 0.0         0.0   \n","\n","     NCLiabilities2  longLoan2  netAsset2  surplus2  employee1  employee2  \\\n","421             0.0        0.0        0.0       0.0       21.0       21.0   \n","\n","     ownerChange  \n","421         same  \n","\n","[1 rows x 58 columns]"],"text/html":["\n","  <div id=\"df-82263aee-0380-4afa-8188-f5d31174c037\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>debt2</th>\n","      <th>liquidLiabilities2</th>\n","      <th>shortLoan2</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>421</th>\n","      <td>413</td>\n","      <td>NaN</td>\n","      <td>gyeonggi</td>\n","      <td>168</td>\n","      <td>-1</td>\n","      <td>49.0</td>\n","      <td>NaN</td>\n","      <td>558362470.0</td>\n","      <td>74434148.0</td>\n","      <td>548290004.0</td>\n","      <td>...</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>21.0</td>\n","      <td>21.0</td>\n","      <td>same</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>1 rows × 58 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-82263aee-0380-4afa-8188-f5d31174c037')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-82263aee-0380-4afa-8188-f5d31174c037 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-82263aee-0380-4afa-8188-f5d31174c037');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["# 기존의 변수를 분할, 년/월/일\n","# openDate는 이전에 -1 처리된 값이 존재, -1 값은 제외하고 설정\n","\n","display(data[data['openDate']==-1])"]},{"cell_type":"code","execution_count":null,"id":"13ac2e22","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":488},"id":"13ac2e22","outputId":"631f85c5-6ae5-471f-ce76-3abea76d6a43"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     inst_id    OC       sido  sgg  bedCount              instkind  \\\n","0          1  open  choongnam   73     175.0      nursing_hospital   \n","1          3  open  gyeongnam   32     410.0      general_hospital   \n","2          4  open   gyeonggi   89     468.0      nursing_hospital   \n","3          7  open    incheon  141     353.0      general_hospital   \n","4          9  open  gyeongnam   32     196.0      general_hospital   \n","..       ...   ...        ...  ...       ...                   ...   \n","423      424   NaN    jeonnam   33       0.0    traditional_clinic   \n","424      425   NaN   gyeonggi   74       NaN  traditional_hospital   \n","425      429   NaN   gyeonggi  116     150.0              hospital   \n","426      430   NaN       jeju   76       NaN                   NaN   \n","427      431   NaN  choongbuk  163      96.0              hospital   \n","\n","         revenue1    salescost1          sga1       salary1  ...  \\\n","0    4.217530e+09  0.000000e+00  3.961135e+09  2.033835e+09  ...   \n","1             NaN           NaN           NaN           NaN  ...   \n","2    1.004522e+09  5.154837e+08  4.472197e+08  2.964023e+08  ...   \n","3    7.250734e+10  0.000000e+00  7.067740e+10  3.178605e+10  ...   \n","4    4.904354e+10  0.000000e+00  4.765605e+10  2.446078e+10  ...   \n","..            ...           ...           ...           ...  ...   \n","423  2.233031e+10  8.484657e+08  1.849255e+10  1.232241e+10  ...   \n","424  1.833906e+10  0.000000e+00  1.760117e+10  6.824241e+09  ...   \n","425  1.424266e+10  1.726174e+09  1.148722e+10  6.279155e+09  ...   \n","426  4.892710e+10  4.157148e+10  4.721485e+09  1.514547e+09  ...   \n","427  1.092444e+10  1.168731e+09  8.709839e+09  3.784543e+09  ...   \n","\n","     NCLiabilities2     longLoan2     netAsset2      surplus2  employee1  \\\n","0      5.361169e+08  3.900000e+08  2.619290e+09  1.271224e+09       62.0   \n","1               NaN           NaN           NaN           NaN      801.0   \n","2      0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00      234.0   \n","3      2.073641e+10  1.510000e+10  1.295427e+10  7.740829e+09      663.0   \n","4      2.136001e+10  1.410803e+10  5.561941e+06  9.025550e+09      206.0   \n","..              ...           ...           ...           ...        ...   \n","423    2.750371e+09  0.000000e+00  1.384958e+10  0.000000e+00      560.0   \n","424    1.799886e+09  1.740000e+09  8.574502e+09  7.136681e+09      132.0   \n","425    0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00        NaN   \n","426    2.871805e+10  2.563120e+10 -2.050629e+08  0.000000e+00      363.0   \n","427    0.000000e+00  0.000000e+00  0.000000e+00  0.000000e+00        NaN   \n","\n","     employee2  ownerChange  open_year  open_month  open_day  \n","0         64.0         same       2007          12        28  \n","1        813.0         same       1997           4         1  \n","2          1.0         same       2016          12        28  \n","3        663.0         same       2000           8        14  \n","4        197.0         same       2005           9         1  \n","..         ...          ...        ...         ...       ...  \n","423      560.0          NaN       2001          10        12  \n","424      137.0         same       2001           5        30  \n","425        NaN          NaN       2001           1         1  \n","426      343.0         same       2001           2         1  \n","427        NaN          NaN       1996          12        16  \n","\n","[425 rows x 60 columns]"],"text/html":["\n","  <div id=\"df-a76fb09f-3f05-4bc0-86f8-a2eaeb0f2abc\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>salary1</th>\n","      <th>...</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","      <th>open_year</th>\n","      <th>open_month</th>\n","      <th>open_day</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1</td>\n","      <td>open</td>\n","      <td>choongnam</td>\n","      <td>73</td>\n","      <td>175.0</td>\n","      <td>nursing_hospital</td>\n","      <td>4.217530e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>3.961135e+09</td>\n","      <td>2.033835e+09</td>\n","      <td>...</td>\n","      <td>5.361169e+08</td>\n","      <td>3.900000e+08</td>\n","      <td>2.619290e+09</td>\n","      <td>1.271224e+09</td>\n","      <td>62.0</td>\n","      <td>64.0</td>\n","      <td>same</td>\n","      <td>2007</td>\n","      <td>12</td>\n","      <td>28</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>3</td>\n","      <td>open</td>\n","      <td>gyeongnam</td>\n","      <td>32</td>\n","      <td>410.0</td>\n","      <td>general_hospital</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>...</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>801.0</td>\n","      <td>813.0</td>\n","      <td>same</td>\n","      <td>1997</td>\n","      <td>4</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>4</td>\n","      <td>open</td>\n","      <td>gyeonggi</td>\n","      <td>89</td>\n","      <td>468.0</td>\n","      <td>nursing_hospital</td>\n","      <td>1.004522e+09</td>\n","      <td>5.154837e+08</td>\n","      <td>4.472197e+08</td>\n","      <td>2.964023e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>234.0</td>\n","      <td>1.0</td>\n","      <td>same</td>\n","      <td>2016</td>\n","      <td>12</td>\n","      <td>28</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>7</td>\n","      <td>open</td>\n","      <td>incheon</td>\n","      <td>141</td>\n","      <td>353.0</td>\n","      <td>general_hospital</td>\n","      <td>7.250734e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>7.067740e+10</td>\n","      <td>3.178605e+10</td>\n","      <td>...</td>\n","      <td>2.073641e+10</td>\n","      <td>1.510000e+10</td>\n","      <td>1.295427e+10</td>\n","      <td>7.740829e+09</td>\n","      <td>663.0</td>\n","      <td>663.0</td>\n","      <td>same</td>\n","      <td>2000</td>\n","      <td>8</td>\n","      <td>14</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>9</td>\n","      <td>open</td>\n","      <td>gyeongnam</td>\n","      <td>32</td>\n","      <td>196.0</td>\n","      <td>general_hospital</td>\n","      <td>4.904354e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>4.765605e+10</td>\n","      <td>2.446078e+10</td>\n","      <td>...</td>\n","      <td>2.136001e+10</td>\n","      <td>1.410803e+10</td>\n","      <td>5.561941e+06</td>\n","      <td>9.025550e+09</td>\n","      <td>206.0</td>\n","      <td>197.0</td>\n","      <td>same</td>\n","      <td>2005</td>\n","      <td>9</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>423</th>\n","      <td>424</td>\n","      <td>NaN</td>\n","      <td>jeonnam</td>\n","      <td>33</td>\n","      <td>0.0</td>\n","      <td>traditional_clinic</td>\n","      <td>2.233031e+10</td>\n","      <td>8.484657e+08</td>\n","      <td>1.849255e+10</td>\n","      <td>1.232241e+10</td>\n","      <td>...</td>\n","      <td>2.750371e+09</td>\n","      <td>0.000000e+00</td>\n","      <td>1.384958e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>560.0</td>\n","      <td>560.0</td>\n","      <td>NaN</td>\n","      <td>2001</td>\n","      <td>10</td>\n","      <td>12</td>\n","    </tr>\n","    <tr>\n","      <th>424</th>\n","      <td>425</td>\n","      <td>NaN</td>\n","      <td>gyeonggi</td>\n","      <td>74</td>\n","      <td>NaN</td>\n","      <td>traditional_hospital</td>\n","      <td>1.833906e+10</td>\n","      <td>0.000000e+00</td>\n","      <td>1.760117e+10</td>\n","      <td>6.824241e+09</td>\n","      <td>...</td>\n","      <td>1.799886e+09</td>\n","      <td>1.740000e+09</td>\n","      <td>8.574502e+09</td>\n","      <td>7.136681e+09</td>\n","      <td>132.0</td>\n","      <td>137.0</td>\n","      <td>same</td>\n","      <td>2001</td>\n","      <td>5</td>\n","      <td>30</td>\n","    </tr>\n","    <tr>\n","      <th>425</th>\n","      <td>429</td>\n","      <td>NaN</td>\n","      <td>gyeonggi</td>\n","      <td>116</td>\n","      <td>150.0</td>\n","      <td>hospital</td>\n","      <td>1.424266e+10</td>\n","      <td>1.726174e+09</td>\n","      <td>1.148722e+10</td>\n","      <td>6.279155e+09</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>2001</td>\n","      <td>1</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>426</th>\n","      <td>430</td>\n","      <td>NaN</td>\n","      <td>jeju</td>\n","      <td>76</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>4.892710e+10</td>\n","      <td>4.157148e+10</td>\n","      <td>4.721485e+09</td>\n","      <td>1.514547e+09</td>\n","      <td>...</td>\n","      <td>2.871805e+10</td>\n","      <td>2.563120e+10</td>\n","      <td>-2.050629e+08</td>\n","      <td>0.000000e+00</td>\n","      <td>363.0</td>\n","      <td>343.0</td>\n","      <td>same</td>\n","      <td>2001</td>\n","      <td>2</td>\n","      <td>1</td>\n","    </tr>\n","    <tr>\n","      <th>427</th>\n","      <td>431</td>\n","      <td>NaN</td>\n","      <td>choongbuk</td>\n","      <td>163</td>\n","      <td>96.0</td>\n","      <td>hospital</td>\n","      <td>1.092444e+10</td>\n","      <td>1.168731e+09</td>\n","      <td>8.709839e+09</td>\n","      <td>3.784543e+09</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>1996</td>\n","      <td>12</td>\n","      <td>16</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>425 rows × 60 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-a76fb09f-3f05-4bc0-86f8-a2eaeb0f2abc')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-a76fb09f-3f05-4bc0-86f8-a2eaeb0f2abc button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-a76fb09f-3f05-4bc0-86f8-a2eaeb0f2abc');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":41}],"source":["data['open_year'] = 0\n","data['open_month'] = 0\n","data['open_day'] = 0\n","\n","data['open_year'] = data['openDate'].apply(lambda x : int(str(x)[0:4]) if x!=-1  else -1)\n","data['open_month'] = data['openDate'].apply(lambda x : int(str(x)[4:6]) if x!=-1  else -1)\n","data['open_day'] = data['openDate'].apply(lambda x : int(str(x)[6:8]) if x!=-1  else -1)\n","\n","data.drop('openDate',axis=1)"]},{"cell_type":"code","execution_count":null,"id":"kdBcXXMaIMat","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":174},"id":"kdBcXXMaIMat","outputId":"7b227617-12fc-404e-b0aa-b6d1f8996687"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["     inst_id   OC      sido  sgg  openDate  bedCount instkind     revenue1  \\\n","421      413  NaN  gyeonggi  168        -1      49.0      NaN  558362470.0   \n","\n","     salescost1         sga1  ...  NCLiabilities2  longLoan2  netAsset2  \\\n","421  74434148.0  548290004.0  ...             0.0        0.0        0.0   \n","\n","     surplus2  employee1  employee2  ownerChange  open_year  open_month  \\\n","421       0.0       21.0       21.0         same         -1          -1   \n","\n","     open_day  \n","421        -1  \n","\n","[1 rows x 61 columns]"],"text/html":["\n","  <div id=\"df-0eab0f12-dce2-4ebb-a5b3-c68a5543d68b\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>NCLiabilities2</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","      <th>open_year</th>\n","      <th>open_month</th>\n","      <th>open_day</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>421</th>\n","      <td>413</td>\n","      <td>NaN</td>\n","      <td>gyeonggi</td>\n","      <td>168</td>\n","      <td>-1</td>\n","      <td>49.0</td>\n","      <td>NaN</td>\n","      <td>558362470.0</td>\n","      <td>74434148.0</td>\n","      <td>548290004.0</td>\n","      <td>...</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>0.0</td>\n","      <td>21.0</td>\n","      <td>21.0</td>\n","      <td>same</td>\n","      <td>-1</td>\n","      <td>-1</td>\n","      <td>-1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>1 rows × 61 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-0eab0f12-dce2-4ebb-a5b3-c68a5543d68b')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-0eab0f12-dce2-4ebb-a5b3-c68a5543d68b button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-0eab0f12-dce2-4ebb-a5b3-c68a5543d68b');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":42}],"source":["data[data['open_day']==-1]"]},{"cell_type":"markdown","id":"i_OTWJIhB-8u","metadata":{"id":"i_OTWJIhB-8u"},"source":["![image.png](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcYAAACCCAYAAADc3GjnAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAreSURBVHhe7d0Bspw4DsbxN3Ol5P4nyJ1mo33R7Lcuy7YMBjf8f1VUErAtAWmpm9eT+euf374AAMB//f3nVwAA8BuNEQAAQWMEAEDQGAEAEDRGAAAEjREAAEFjBABA0BgBABA0RgAABI0RAABBYwQAQNAYAQAQNEYAAASNEQAAQWMEAEDQGAEAEPyPioFN/Pz588/vvr5+/fr153f30pxKu+R4Ne7T89EYgY14gdutmO3YDGpqDWJFvtyn81jOu+XKo1QAj6DNyjdTa5a4j90P3XZEYwQAXKZ847IjGiOAx+NTIzL4GSOwES/gtXfTZXEvx+hxO9Ybb6I5vbV7srFNJj/Xy8XHj+Sc0Vq3l+PMOUVzemv3ZGObTH4uysXHjeR6JRojsJFaoYiKh+2v7XPlGr35+ufaMVeuo3zcSCwXxXRR7Gi88rm9cVm1daNYtTx9rCnX6M3XP9eOuXId5eNGYrkopotiR+ONz4mO34VHqcAH02KkeoUrmreyUGlMX7+ME+VleudUWnkuWVGevXOK5q08N43p65dxorxM75w+AY0ReKGooM4W2pnC57Fs7tmF09eLzsdjjm53efp92hWNEdjYSCE6Uqy82Nk2W2xdNleNezS2qq1Z5ubHR7eecv2akTERm+vbSD4t2Vw17tHYn4LGCGxspBDNFCstdL7N8iI6soaPyczJ8HXtV93OjlPKnHuG567bLFvLjKzhYzJznoTGCLyUN41yu8KKQntV7lcr749vV3hbQ3R8KxXYRFnsyqI0e7y2v1dYo7mRbK5Ox2leUfzW/nKfiuLPiHJys8ez52SiuZFsrk7HaV5R/Ox+F8W/Go0ReCErTFERah3DtbhP9+BRKvAy0bt1NTIGa3Gf7kNjBF5m5FMGn0Tux326D49SgZeKPm1QbPfCfboejREAAMGjVAAABI0RAABBYwQAQPAzRuBGfN0eGHfVF45ojAAACB6lAgAgaIwAAAgaIwAAgp8xAlhKv2C0y7/W0vrSE/+iDGiMAJbzRrRb09mxadfUGjkNfB0epQLAxvRNhW+m9akXx9AYAQAQNEYA+FB8alyDnzECWE4fB5bK4l6O0eN2rDfeRHN6a/dkY5tMfq6Xi48fyRl5NEYAy9UKeVTcbX9tnyvX6M3XP9eOuXId5eNGYrkopotiR+OVz+2NwxwepQLYjjYN1Wsw0byVjURj+vplnCgv0zun0spzwTcaI4DHiJrFbBNpNaiIx7K5M/NbaIrXoDECuNxIwzjSVLwp2Xa0iWRz1bhnNrDamiO5IY/GCCxAwWobaRgzTUWbh2+z/B6OrOFjMnMyfF37Vbez4zyFX69ZNEbgZBSse2nj0O0KK+77Vbk/id2HI9dt6luptYCfXgiyF5HCt5dd/k5aHvzd+H/lvSmvz+zx2v5yXymaG8nm6nSc5hXFb+0v96koPr7ZtZu5Rof+cw29YU+6QdFfWnXluc/e3De68++kx+Ze3af1WuF19D6zr0kepU7SC63FGO9G4b3PyOuQ1+q7zL4eaYzACSi49xspgrxxeafs65PGeJJVhZGC+zkouveze2CvmdrG/XmnmftOYzwJL7r3sqKLfdhrsbbh3TKv08u+fJMZ62onEs1tjS2PZXI1IzFHzuno+ahWvOz57ixzzUztnmSvR3Tto3k+/pOvM/Bk2dfo8sZYS2h0Xu1Y7wR1bVeLHc035RqtPExrLWfjW+ucFcOUY1sxWjT+UdnYxuK3rkvrmNJxejyan9lvWvkAuF/2Nbq0MbaSGTlmyuO9ExzNyYys0RLNL82ez0iubjbGrlZes9787H4XxQNwr+zrdNnPGDWRlto4T7x1AqPrn8Hy0M2N5uBzdG7prPO5IsYVrrhm5fzWeq08ADzLsk+MrWOmd9xli9UZccuYR/IvZc4nE6O1rsvkuZOzr1lrTC1W67qNxFOtcwGQl33djYxf0hjLF38tkd6YkbV7684cN73czMg6KhrfWmc0xki+n2jVNetdr/K4q603Eg/AvbKv0yWPUrMFIipMtv8Jxebs8ykL9xOuUemqvwO1tVfHBLC37f47xrLof4JWzjudTzYXG3/WlpEdf5YyrjdIb5K1vGigwOcYfb1u1xifUGi0gF51Pivi2JpnbRnZ8bN2zQvAvZY1Ri0i5TvtmcZhc2rv2O9ytEiOnE8ths2JYvv+2rqteZ9i5Jqp6Dq0zMwB8CxTX75pFYqomJdGirTOK8eXx3o5HTmuanmXc2tjTJmzmj0WGc1pd9nrYvt0XHkdTHQtfG45JxqvyrgzNO7Rtc5Su35ulxyvxn36PNnX56FvpQL4ln3hRbzA7VbMdmwGNbUGsSJf7tN5LOeVuc7cq+1+xgh8qlpRxnW0APpmuC97sfuh245ojMAJVr7jBZ6kfONyhWwsGiNwEnvx8elkT9yXd7L7PtOA+RkjcCIvwLPvhlvzy+JejtHjtSbdW1Pn9NbuycY2mfxcLxcfP5JzRmvdXo4z5xTN6a3dk41tMvm5KBcfN5Jr1qG1rTECONePHz/+/C7H5pVza/tMtK82fmS+/rl2zLeWaEy5z8fp/to8UxtrovGqNu8MUT61WNG+2viR+frn2jHfWqIx5T4fp/tr80xtrInGm9r4Mxxdk0epwAIr3gHXlO/MXS2+jo3mXfEO3vj6ZZwoL9M7p9LKc8mK8uydUzRv5blpTF+/jBPlZXrndIWj14XGCLxQVDhmC8pM4fNYNvfswunrRefjMUe3uzz9Pu2KxghsbKQQHSlWXuxsmy22Lpurxj0aW9XWLHPz46NbT7l+zciYiM31bSSflmyuGvdo7E9BYwQ2NlKIZoqVFjrfZnkRHVnDx2TmZPi69qtuZ8cpZc49w3PXbZatZUbW8DGZOU9CYwReyptGuV1hRaG9KverlffHtyu8rSE6/nMNYBNlsSuL0uzx2v5eYY3mRrK5Oh2neUXxW/vLfSqKPyPKyc0ez56TieZGsrk6Had5RfGz+10U/2o0RuCFrDBFRah1DNfiPt2DR6nAy0Tv1tXIGKzFfboPjRF4mZFPGXwSuR/36T48SgVeKvq0QbHdC/fpejRGAAAEj1IBABA0RgAABI0RAADBzxiBG/F1e2DcVV84ojECACB4lAoAgKAxAgAgaIwAAAh+xghgKf2C0S7/WkvrS0/8izKgMQJYzhvRbk1nx6ZdU2vkNPB1eJQKABvTNxW+mdanXhxDYwQAQNAYAeBD8alxDX7GCGA5fRxYKot7OUaP27HeeBPN6a3dk41tMvm5Xi4+fiRn5NEYASxXK+RRcbf9tX2uXKM3X/9cO+bKdZSPG4nlopguih2NVz63Nw5zeJQKYDvaNFSvwUTzVjYSjenrl3GivEzvnEorzwXfaIwAHiNqFrNNpNWgIh7L5s7Mb6EpXoPGCOByIw3jSFPxpmTb0SaSzVXjntnAamuO5IY8GiOAy400jJmmos3Dt1nedEbW8DGZORm+rv2q29lx8I3GCOBRyubh2xVWNKqrcsf/8K1UAEuVhb1sHrPHa/t7TSSaG8nm6nSc5hXFb+0v96koPo6hMQJ4DGsiUbNoHQMUj1IBPELrk5UbGQPQGAE8wsinQT4xYgSPUgE8SvSpkKaIUTRGAAAEj1IBABA0RgAABI0RAABBYwQAQNAYAQAQNEYAAASNEQAAQWMEAEDQGAEAEDRGAAAEjREAAEFjBABA0BgBABA0RgAABI0RAIB/fX39BzwBK4HqY/MVAAAAAElFTkSuQmCC)"]},{"cell_type":"code","execution_count":null,"id":"1de1b3ed","metadata":{"id":"1de1b3ed"},"outputs":[],"source":["data['loanRate']=0\n","data.loc[data['OC']=='close','loanRate'] = abs(((data.loc[data['OC']=='close','longLoan2']-data.loc[data['OC']=='close','longLoan1'])/data.loc[data['OC']=='close','longLoan2'])/((data.loc[data['OC']=='close','shortLoan2']-data.loc[data['OC']=='close','shortLoan1'])/data.loc[data['OC']=='close','shortLoan2']))\n","data.loc[data['OC']=='open','loanRate'] = abs(((data.loc[data['OC']=='open','longLoan2']-data.loc[data['OC']=='open','longLoan1'])/data.loc[data['OC']=='open','longLoan2'])/((data.loc[data['OC']=='open','shortLoan2']-data.loc[data['OC']=='open','shortLoan1'])/data.loc[data['OC']=='open','shortLoan2']))\n","data['loanRate'] = data['loanRate'].replace(np.inf, -1) # NaN값으로 인한 이상치\n","data['loanRate'].fillna(-1,inplace=True) "]},{"cell_type":"code","execution_count":null,"id":"B2uxWTMzI4PD","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"B2uxWTMzI4PD","outputId":"b0271a18-5d5a-464b-95df-805cd6ee308c"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["count      425.000000\n","mean        40.000538\n","std        821.105103\n","min         -1.000000\n","25%         -1.000000\n","50%          0.000000\n","75%          0.000000\n","max      16927.490694\n","Name: loanRate, dtype: float64"]},"metadata":{},"execution_count":44}],"source":["data['loanRate'].describe()"]},{"cell_type":"markdown","id":"i_83jUZ_wh2F","metadata":{"id":"i_83jUZ_wh2F"},"source":["### 4.결측치 처리\n","\n","나머지 결측치 처리\n","\n","- 연속형변수: -1\n","- 범주형변수: unknown"]},{"cell_type":"code","execution_count":null,"id":"EUMTtdmowgTF","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":54},"id":"EUMTtdmowgTF","outputId":"3eeec1ad-e821-40fb-e507-82d5d01fa968"},"outputs":[{"output_type":"stream","name":"stdout","text":["(425, 62)\n"]},{"output_type":"display_data","data":{"text/plain":["0"]},"metadata":{}}],"source":["# 범주형 데이터의 결측치는 unknown으로 뒤에서 사용될 one-hot encoding의 에러를 피하기 위해 변수명을 각각 처리해주었습니다.\n","\n","data['OC'] = data['OC'].fillna('unknown_OC') # 범주형변수 OC\n","data['instkind'] = data['instkind'].fillna('unknown_instkind') # 범주형변수 instkind\n","data['ownerChange'] = data['ownerChange'].fillna('unknown_ownerChange') # 범주형변수 ownerChange\n","data[numeric_col] = data[numeric_col].fillna(-1) # 연속형변수 -1\n","print(data.shape)\n","\n","display(data.isnull().sum().sum())"]},{"cell_type":"markdown","id":"421fe745","metadata":{"id":"421fe745"},"source":["추가적으로 성능향상을 위해서 연속형 데이터의 스케일링(scaling)과정과 범주형 데이터의 인코딩(encoding) 과정을 거칩니다."]},{"cell_type":"code","execution_count":null,"id":"401f8298","metadata":{"id":"401f8298"},"outputs":[],"source":["# 여기서 에러 메세지를 만나셨다면 sklearn library를 설치해야합니다.\n","from sklearn.preprocessing import LabelEncoder, OneHotEncoder, MinMaxScaler, StandardScaler, RobustScaler\n","from sklearn.model_selection import train_test_split"]},{"cell_type":"markdown","id":"5a9edceb","metadata":{"id":"5a9edceb"},"source":["### 5.인코딩\n","범주형변수의 인코딩 과정은 범주형 변수들이 가지는 클래스에 따라 모델링을 준비하는 과정입니다.\n","\n","대표적인 라벨인코딩(label encoding)의 경우, 서열을 가지는 범주형 데이터를 0,1,2,3,4,,의 수준으로 변경시켜 줍니다. (예: 나이, 학력 등)"]},{"cell_type":"code","execution_count":null,"id":"520478a5","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"520478a5","outputId":"aedba141-e01e-4022-d24a-062317d9f433"},"outputs":[{"output_type":"stream","name":"stdout","text":["[1 0 2]\n","open 1\n","close: 0\n","unknown: 2\n"]}],"source":["# LabelEncoder(): 라벨인코딩을 위한 함수입니다.\n","# 종속변수(OC)에 대해서 1:open,0:close 값을 가진다.\n","# values는 시리즈나 어레이(array)의 값을 불러오는 메소드(method)입니다.\n","# fit_transfomr(): 호출된 함수의 객체에 학습 및 값을 변형하는 함수입니다. 필요에 따라 fit과 transform을 따로 사용합니다.\n","\n","open_idx = data[data['OC']=='open']['inst_id'] # open의 특정 inst_id를 저장\n","close_idx = data[data['OC']=='close']['inst_id'] # close의 특정 inst_id를 저장\n","unknown_idx = data[data['OC']=='unknown_OC']['inst_id'] # unknown의 특정 inst_id를 저장\n","\n","label_encoder = LabelEncoder() # 라벨인코딩\n","data['OC'] = label_encoder.fit_transform(data['OC']) # 학습 및 변형\n","\n","print(data['OC'].unique())\n","print('open',data[data['inst_id']==open_idx.values[0]]['OC'].values[0]) # 인코딩 값과 비교\n","print('close:',data[data['inst_id']==close_idx.values[0]]['OC'].values[0])\n","print('unknown:',data[data['inst_id']==unknown_idx.values[0]]['OC'].values[0])"]},{"cell_type":"code","execution_count":null,"id":"e8ae52d9","metadata":{"colab":{"base_uri":"https://localhost:8080/","height":300},"id":"e8ae52d9","outputId":"f74fadfb-5024-471c-f285-eb5596538fdb"},"outputs":[{"output_type":"display_data","data":{"text/plain":["   inst_id  OC       sido  sgg  openDate  bedCount          instkind  \\\n","0        1   1  choongnam   73  20071228     175.0  nursing_hospital   \n","1        3   1  gyeongnam   32  19970401     410.0  general_hospital   \n","2        4   1   gyeonggi   89  20161228     468.0  nursing_hospital   \n","3        7   1    incheon  141  20000814     353.0  general_hospital   \n","4        9   1  gyeongnam   32  20050901     196.0  general_hospital   \n","\n","       revenue1   salescost1          sga1  ...     longLoan2     netAsset2  \\\n","0  4.217530e+09          0.0  3.961135e+09  ...  3.900000e+08  2.619290e+09   \n","1 -1.000000e+00         -1.0 -1.000000e+00  ... -1.000000e+00 -1.000000e+00   \n","2  1.004522e+09  515483669.0  4.472197e+08  ...  0.000000e+00  0.000000e+00   \n","3  7.250734e+10          0.0  7.067740e+10  ...  1.510000e+10  1.295427e+10   \n","4  4.904354e+10          0.0  4.765605e+10  ...  1.410803e+10  5.561941e+06   \n","\n","       surplus2  employee1  employee2  ownerChange  open_year  open_month  \\\n","0  1.271224e+09       62.0       64.0         same       2007          12   \n","1 -1.000000e+00      801.0      813.0         same       1997           4   \n","2  0.000000e+00      234.0        1.0         same       2016          12   \n","3  7.740829e+09      663.0      663.0         same       2000           8   \n","4  9.025550e+09      206.0      197.0         same       2005           9   \n","\n","   open_day  loanRate  \n","0        28 -1.000000  \n","1         1 -1.000000  \n","2        28 -1.000000  \n","3        14  0.449196  \n","4         1  2.252534  \n","\n","[5 rows x 62 columns]"],"text/html":["\n","  <div id=\"df-057bdc7a-e10b-4224-9269-75008694e3c0\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>inst_id</th>\n","      <th>OC</th>\n","      <th>sido</th>\n","      <th>sgg</th>\n","      <th>openDate</th>\n","      <th>bedCount</th>\n","      <th>instkind</th>\n","      <th>revenue1</th>\n","      <th>salescost1</th>\n","      <th>sga1</th>\n","      <th>...</th>\n","      <th>longLoan2</th>\n","      <th>netAsset2</th>\n","      <th>surplus2</th>\n","      <th>employee1</th>\n","      <th>employee2</th>\n","      <th>ownerChange</th>\n","      <th>open_year</th>\n","      <th>open_month</th>\n","      <th>open_day</th>\n","      <th>loanRate</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1</td>\n","      <td>1</td>\n","      <td>choongnam</td>\n","      <td>73</td>\n","      <td>20071228</td>\n","      <td>175.0</td>\n","      <td>nursing_hospital</td>\n","      <td>4.217530e+09</td>\n","      <td>0.0</td>\n","      <td>3.961135e+09</td>\n","      <td>...</td>\n","      <td>3.900000e+08</td>\n","      <td>2.619290e+09</td>\n","      <td>1.271224e+09</td>\n","      <td>62.0</td>\n","      <td>64.0</td>\n","      <td>same</td>\n","      <td>2007</td>\n","      <td>12</td>\n","      <td>28</td>\n","      <td>-1.000000</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>3</td>\n","      <td>1</td>\n","      <td>gyeongnam</td>\n","      <td>32</td>\n","      <td>19970401</td>\n","      <td>410.0</td>\n","      <td>general_hospital</td>\n","      <td>-1.000000e+00</td>\n","      <td>-1.0</td>\n","      <td>-1.000000e+00</td>\n","      <td>...</td>\n","      <td>-1.000000e+00</td>\n","      <td>-1.000000e+00</td>\n","      <td>-1.000000e+00</td>\n","      <td>801.0</td>\n","      <td>813.0</td>\n","      <td>same</td>\n","      <td>1997</td>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>-1.000000</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>4</td>\n","      <td>1</td>\n","      <td>gyeonggi</td>\n","      <td>89</td>\n","      <td>20161228</td>\n","      <td>468.0</td>\n","      <td>nursing_hospital</td>\n","      <td>1.004522e+09</td>\n","      <td>515483669.0</td>\n","      <td>4.472197e+08</td>\n","      <td>...</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>0.000000e+00</td>\n","      <td>234.0</td>\n","      <td>1.0</td>\n","      <td>same</td>\n","      <td>2016</td>\n","      <td>12</td>\n","      <td>28</td>\n","      <td>-1.000000</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>7</td>\n","      <td>1</td>\n","      <td>incheon</td>\n","      <td>141</td>\n","      <td>20000814</td>\n","      <td>353.0</td>\n","      <td>general_hospital</td>\n","      <td>7.250734e+10</td>\n","      <td>0.0</td>\n","      <td>7.067740e+10</td>\n","      <td>...</td>\n","      <td>1.510000e+10</td>\n","      <td>1.295427e+10</td>\n","      <td>7.740829e+09</td>\n","      <td>663.0</td>\n","      <td>663.0</td>\n","      <td>same</td>\n","      <td>2000</td>\n","      <td>8</td>\n","      <td>14</td>\n","      <td>0.449196</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>9</td>\n","      <td>1</td>\n","      <td>gyeongnam</td>\n","      <td>32</td>\n","      <td>20050901</td>\n","      <td>196.0</td>\n","      <td>general_hospital</td>\n","      <td>4.904354e+10</td>\n","      <td>0.0</td>\n","      <td>4.765605e+10</td>\n","      <td>...</td>\n","      <td>1.410803e+10</td>\n","      <td>5.561941e+06</td>\n","      <td>9.025550e+09</td>\n","      <td>206.0</td>\n","      <td>197.0</td>\n","      <td>same</td>\n","      <td>2005</td>\n","      <td>9</td>\n","      <td>1</td>\n","      <td>2.252534</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5 rows × 62 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-057bdc7a-e10b-4224-9269-75008694e3c0')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-057bdc7a-e10b-4224-9269-75008694e3c0 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-057bdc7a-e10b-4224-9269-75008694e3c0');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["display(data.head()) # OC 값이 바뀐 것을 확인할 수 있습니다."]},{"cell_type":"markdown","id":"52924126","metadata":{"id":"52924126"},"source":["또한 원핫인코딩(one-hot encoding)의 경우, 서열을 가지지 않는 범주형 데이터를 희소행렬(sparse matrix)의 수준으로 변경시켜 줍니다. (예: 계절, 혈액형)"]},{"cell_type":"code","execution_count":null,"id":"qw3I2ELhtQHJ","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"qw3I2ELhtQHJ","outputId":"e37f3d0f-70a7-4f8f-9ec6-a44589950fa0"},"outputs":[{"output_type":"stream","name":"stdout","text":["Index(['OC', 'sido', 'instkind', 'ownerChange'], dtype='object')\n"]}],"source":["print(categorical_col)"]},{"cell_type":"code","execution_count":null,"id":"f42aabbe","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"f42aabbe","outputId":"e991b6d8-935f-4847-9d11-ab28a19ddc67"},"outputs":[{"output_type":"stream","name":"stdout","text":["{'longLoan2', 'open_year', 'openDate', 'nonCAsset2', 'nonCAsset1', 'interest2', 'employee1', 'inst_id', 'tanAsset1', 'inventoryAsset2', 'ctax1', 'inventoryAsset1', 'liquidAsset1', 'receivableS2', 'shortLoan1', 'interest1', 'debt1', 'netAsset2', 'revenue1', 'OnonCAsset1', 'liquidLiabilities2', 'quickAsset1', 'salescost1', 'revenue2', 'receivableS1', 'noi2', 'sga2', 'employee2', 'sga1', 'salary1', 'sgg', 'NCLiabilities1', 'noe2', 'open_day', 'profit2', 'surplus1', 'receivableL1', 'receivableL2', 'open_month', 'noe1', 'profit1', 'liquidAsset2', 'noi1', 'salary2', 'longLoan1', 'quickAsset2', 'debt2', 'OnonCAsset2', 'netAsset1', 'salescost2', 'NCLiabilities2', 'loanRate', 'bedCount', 'OC', 'shortLoan2', 'surplus2', 'liquidLiabilities1', 'tanAsset2', 'ctax2'}\n"]}],"source":["# 원핫인코딩 준비\n","# set(): 함수를 통해 list 간의 차집합, 교집합을 활용합니다.\n","\n","dummy_col=categorical_col.drop('OC') # 라벨인코딩 처리한 OC열 제외 \n","not_dummy_col = set(data.columns) - set(dummy_col) # 연속형변수 + OC열\n","print(not_dummy_col)"]},{"cell_type":"code","execution_count":null,"id":"cb875778","metadata":{"id":"cb875778"},"outputs":[],"source":["# copy(): 기존의 값이 변경되지 않게 복사를 진행하는 함수입니다.\n","# reshape(): 행렬의 형태를 변경하는 함수입니다.\n","# 원핫인코딩, 더미변수 만들기\n","\n","temp2 = data[not_dummy_col].reset_index().copy().drop('index',axis=1) # 더미변수 제외 데이터프레임\n","for col in dummy_col: \n","    ohe = OneHotEncoder(sparse=False)\n","    temp1 = pd.DataFrame(ohe.fit_transform(data[col].values.reshape(-1,1)), columns = ohe.categories_[0])\n","    temp2 = pd.concat([temp2, temp1], axis=1)\n","temp2['OC'] = data['OC'].values.copy()\n","data = temp2.copy()"]},{"cell_type":"code","execution_count":null,"id":"067c6285","metadata":{"id":"067c6285"},"outputs":[],"source":["# isin(): 특정 문자열이 리스트, 시리즈 아이템 내부에 존재하는지 알아보는 함수입니다.\n","# 기존의 train, test 나누기\n","\n","train = data.loc[data['inst_id'].isin(train['inst_id'])]\n","test = data.loc[data['inst_id'].isin(test['inst_id'])]"]},{"cell_type":"markdown","id":"2fd83157","metadata":{"id":"2fd83157"},"source":["### 6.스케일링\n","스케일링은 연속형 변수들의 각기 다른 범위(range)를 가지는 데이터의 수준을 맞추어 주는 변환작업니다.\n","\n","대표적인 standard scaler의 경우, 각 변수의 분포에 따른 정규분포의 형태로 정규화를 진행합니다. (예: 매출액과 이자비용, 술의 가격과 도수)"]},{"cell_type":"code","execution_count":null,"id":"d019a412","metadata":{"id":"d019a412"},"outputs":[],"source":["# 여러 시도를 하기 전, 정제된 데이터를 따로 저장하여 사용하겠습니다.\n","\n","train_save = train.copy()\n","test_save = test.copy()\n","train = train_save.copy()\n","test = test_save.copy()"]},{"cell_type":"code","execution_count":null,"id":"71b7d496","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"71b7d496","outputId":"ff8db9fb-f59f-46a0-965c-2b7686614a12"},"outputs":[{"output_type":"stream","name":"stdout","text":["1    198\n","0     10\n","Name: OC, dtype: int64\n","1    85\n","0     5\n","Name: OC, dtype: int64\n"]}],"source":["# pop(): 하나씩 꺼내어 호출하는 함수입니다.\n","# train_test_split(): 학습데이터와 평가데이터로 분리하는 함수입니다.\n","# 본 자료의 데이터셋은 기존의 train과 test으로 제공됩니다. 그래서 같은 이름때문에 헷갈릴 수 있는데,\n","# 학습데이터: train, 검증데이터(학습을 위한 평가데이터): validation, 평가데이터: test로 정의하겠습니다.\n","\n","np.random.seed(0) # 랜덤 시드(random seed)를 설정해 줍니다.\n","random_state = 0 # seed\n","train_y = train.pop('OC')\n","train_x = train.copy()\n","train_x, valid_x, train_y, valid_y = train_test_split(train_x, train_y, \n","                                                      test_size=0.3, # 비율은 자유로우나, 7:3 또는 8:2를 사용합니다.\n","                                                      stratify=train_y, # 종속변수의 클래스 비율을 적정수준의 밸런스를 가지게 분리합니다.\n","                                                      random_state=random_state) # train, valid로 나누어 줍니다.\n","print(train_y.value_counts())\n","print(valid_y.value_counts())"]},{"cell_type":"code","execution_count":null,"id":"48e9b704","metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"48e9b704","outputId":"dc0d32f4-8dce-40a5-db63-6a52c5d1e20d"},"outputs":[{"output_type":"stream","name":"stdout","text":["(208, 84) (90, 84)\n"]}],"source":["# MinMaxScaler(), StandardScaler(), RobustScaler(): 스케일링을 위한 스케일러 함수입니다.\n","mscaler = MinMaxScaler()\n","sscaler = StandardScaler()\n","rscaler = RobustScaler()\n","\n","train_x = rscaler.fit_transform(train_x) # 스케일러를 바꿔가며 성능비교 필요 !\n","valid_x = rscaler.transform(valid_x)\n","print(train_x.shape, valid_x.shape)"]},{"cell_type":"markdown","source":["## 마무리\n","\n","이번 Stage에서 배운 다양한 방법을 활용하여 데이터를 전처리하는 방법은 다른 대회에서도 유용하게 응용할 수 있을 것입니다.\n","\n","따라서 ‘병원 개/폐업 분류 예측 경진대회🏥’뿐만 아니라 다른 주제의 대회에서도 이번 stage가 큰 도움이 될 것이라 기대합니다. 😉\n","\n","데이커 여러분 잘 따라오셨나요. 그럼 다음 stage에서 뵙겠습니다.. 🎉\n"],"metadata":{"id":"oOp4RZtr-Wzt"},"id":"oOp4RZtr-Wzt"},{"cell_type":"code","source":[],"metadata":{"id":"jrCdtFOA-sor"},"id":"jrCdtFOA-sor","execution_count":null,"outputs":[]}],"metadata":{"colab":{"collapsed_sections":["1fcb7001","_PakJY0Bw5rk"],"provenance":[{"file_id":"1rYlqgsG5WrxTzQ7Re9odJJ7mmKY2khrb","timestamp":1677063984673}]},"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.9.16"}},"nbformat":4,"nbformat_minor":5}